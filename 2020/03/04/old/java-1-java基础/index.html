<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="java的基础知识">
<meta property="og:type" content="article">
<meta property="og:title" content="java#1-java基础">
<meta property="og:url" content="http://yoursite.com/2020/03/04/old/java-1-java%E5%9F%BA%E7%A1%80/index.html">
<meta property="og:site_name" content="摘星">
<meta property="og:description" content="java的基础知识">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/home/zhangkx/.config/Typora/typora-user-images/image-20200226222447828.png">
<meta property="og:image" content="http://yoursite.com/home/zhangkx/.config/Typora/typora-user-images/image-20200227194204075.png">
<meta property="og:image" content="http://yoursite.com/home/zhangkx/.config/Typora/typora-user-images/image-20200227212036464.png">
<meta property="og:image" content="http://yoursite.com/home/zhangkx/.config/Typora/typora-user-images/image-20200227213731405.png">
<meta property="article:published_time" content="2020-03-04T01:34:33.000Z">
<meta property="article:modified_time" content="2020-03-04T01:34:33.000Z">
<meta property="article:author" content="摘星">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/home/zhangkx/.config/Typora/typora-user-images/image-20200226222447828.png">

<link rel="canonical" href="http://yoursite.com/2020/03/04/old/java-1-java%E5%9F%BA%E7%A1%80/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>java#1-java基础 | 摘星</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">摘星</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/04/old/java-1-java%E5%9F%BA%E7%A1%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="摘星">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="摘星">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          java#1-java基础
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-04 09:34:33" itemprop="dateCreated datePublished" datetime="2020-03-04T09:34:33+08:00">2020-03-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>java的基础知识</p>
<a id="more"></a>
<h1 id="重载"><a href="#重载" class="headerlink" title="重载"></a>重载</h1><p><strong>方法重载</strong>:指在同一个类中,允许存在一个以上的同名方法,只要它们的参数列表不同即可,与修饰符和返回值类型无关。<br><strong>参数列表</strong>:个数不同,数据类型不同,顺序不同。<br><strong>重载方法调用</strong>:JVM通过方法的参数列表,调用不同的方法。</p>
<h1 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h1><h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><p>写法：</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h1 id="封装——private关键字"><a href="#封装——private关键字" class="headerlink" title="封装——private关键字"></a>封装——private关键字</h1><h2 id="封装优化1——this关键字"><a href="#封装优化1——this关键字" class="headerlink" title="封装优化1——this关键字"></a>封装优化1——this关键字</h2><p>this代表所在类的当前对象的引用(地址值),即对象自己的引用。</p>
<blockquote>
<p>记住 :方法被哪个对象调用,方法中的this就代表那个对象。即谁在调用,this就代表谁。</p>
</blockquote>
<h2 id="封装优化2——构造方法"><a href="#封装优化2——构造方法" class="headerlink" title="封装优化2——构造方法"></a>封装优化2——构造方法</h2><p>当一个对象被创建时候,构造方法用来初始化该对象,给对象的成员变量赋初始值。</p>
<blockquote>
<p>小贴士:无论你与否自定义构造方法,所有的类都有构造方法,因为Java自动提供了一个无参数构造方法,<br>一旦自己定义了构造方法,Java自动提供的默认无参数构造方法就会失效。</p>
</blockquote>
<h1 id="Scanner类"><a href="#Scanner类" class="headerlink" title="Scanner类"></a>Scanner类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.util.Scanner</code> :该类需要import导入后使用。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public Scanner(InputStream source)</code> : 构造一个新的 Scanner ,它生成的值是从指定的输入流扫描的。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public int nextInt()</code> :将输入信息的下一个标记扫描为一个 int 值。</p>
<h1 id="Random类"><a href="#Random类" class="headerlink" title="Random类"></a>Random类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.util.Random</code> :该类需要 import导入使后使用。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public Random()</code> :创建一个新的随机数生成器。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public int nextInt(int n)</code>:返回一个伪随机数,范围在 0 (包括)和 指定值int 值。</p>
<h1 id="ArrayList类"><a href="#ArrayList类" class="headerlink" title="ArrayList类"></a>ArrayList类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.util.ArrayList &lt;E&gt;</code>:该类需要 import导入使后使用。</p>
<blockquote>
<p><E> ,表示一种指定的数据类型,叫做泛型。 E ,取自Element(元素)的首字母。在出现 E 的地方,我们使用一种引用数据类型将其替换即可,表示我们将存储哪种引用类型的元素。</p>
</blockquote>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public ArrayList()</code> :构造一个内容为空的集合。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public boolean add(E e)</code>: 将指定的元素添加到此集合的尾部。</p>
<blockquote>
<p>参数 E e ,在构造ArrayList对象时, <E> 指定了什么数据类型,那么 add(E e) 方法中,只能添加什么数据类型的对象。</p>
</blockquote>
<p><code>public &lt;E&gt; remove(int index)</code>:移除此集合中指定位置上的元素。返回被删除的元素。</p>
<p><code>public &lt;E&gt; get(int index)</code> :返回此集合中指定位置上的元素。返回获取的元素。</p>
<p><code>public int size()</code>:返回此集合中的元素数。遍历集合时,可以控制索引范围,防止越界。</p>
<h1 id="String类"><a href="#String类" class="headerlink" title="String类"></a>String类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.lang.String</code> :此类不需要导入。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public String()</code>:初始化新创建的 String对象,以使其表示空字符序列。</p>
<p><code>public String(char[] value)</code>:通过当前参数中的字符数组来构造新的String。</p>
<p><code>public String(byte[] bytes)</code> :通过使用平台的默认字符集解码当前参数中的字节数组来构造新的<br>String。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public boolean equals (Object anObject)</code>:将此字符串与指定对象进行比较。</p>
<p><code>public boolean equalsIgnoreCase (String anotherString)</code>:将此字符串与指定对象进行比较,忽略大小写。</p>
<blockquote>
<p>Object 是” 对象”的意思,也是一种引用类型。作为参数类型,表示任意对象都可以传递到方法中。</p>
</blockquote>
<p><code>public int length ()</code>:返回此字符串的长度。</p>
<p><code>public String concat (String str)</code>:将指定的字符串连接到该字符串的末尾。</p>
<p><code>public char charAt (int index)</code> :返回指定索引处的 char值。</p>
<p><code>public int indexOf (String str)</code>:返回指定子字符串第一次出现在该字符串内的索引。</p>
<p><code>public String substring (int beginIndex)</code>:返回一个子字符串,从beginIndex开始截取字符串到字符串结尾。</p>
<p><code>public String substring (int beginIndex, int endIndex)</code> :返回一个子字符串,从beginIndex到endIndex截取字符串。</p>
<p><code>public char[] toCharArray ()</code>:将此字符串转换为新的字符数组。</p>
<p><code>public byte[] getBytes ()</code> :使用平台的默认字符集将该 String编码转换为新的字节数组。</p>
<p><code>public String replace (CharSequence target, CharSequence replacement)</code>:将与target匹配的字符串使用replacement字符串替换。</p>
<p><code>public String[] split(String regex)</code> :将此字符串按照给定的regex(规则)拆分为字符串数组。</p>
<h1 id="static关键字"><a href="#static关键字" class="headerlink" title="static关键字"></a>static关键字</h1><p>关于 static 关键字的使用,它可以用来修饰的成员变量和成员方法,被修饰的成员是属于类的,而不是单单是属于某个对象的。也就是说,既然属于类,就可以不靠创建对象来调用了。</p>
<h2 id="类变量"><a href="#类变量" class="headerlink" title="类变量"></a>类变量</h2><p>当 static 修饰成员变量时,该变量称为类变量。该类的每个对象都共享同一个类变量的值。任何对象都可以更改该类变量的值,但也可以在不创建该类的对象的情况下对类变量进行操作。意思是所有调用对象共用static修饰的变量。</p>
<h2 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h2><p>当 static 修饰成员方法时,该方法称为类方法 。静态方法在声明中有 static ,建议使用类名来调用,而不需要创建类的对象。调用方式非常简单。只执行一次。</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><p>静态方法可以直接访问类变量和静态方法。<br>静态方法不能直接访问普通成员变量或成员方法。反之,成员方法可以直接访问类变量或静态方法。<br>静态方法中,不能使用this关键字。</p>
<p><strong>static 关键字主要目的</strong>:在不创建对象的情况下,去调用方法。</p>
<blockquote>
<p>小贴士:静态方法只能访问静态成员。</p>
</blockquote>
<h1 id="Arrays类"><a href="#Arrays类" class="headerlink" title="Arrays类"></a>Arrays类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.util.Arrays</code>此类包含用来操作数组的各种方法,比如排序和搜索等。其所有方法均为静态方法,调用起来非常简单。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p>Arrays类中的方法都是static方法，不需要创建，直接可以调用。例如：Arrays.toString(arr)直接使用即可。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public static String toString(int[] a)</code> :返回指定数组内容的字符串表示形式。</p>
<p><code>public static void sort(int[] a)</code> :对指定的 int 型数组按数字升序进行排序。</p>
<h1 id="Math类"><a href="#Math类" class="headerlink" title="Math类"></a>Math类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.lang.Math</code> 类包含用于执行基本数学运算的方法,如初等指数、对数、平方根和三角函数。类似这样的工具类,其所有方法均为静态方法,并且不会创建对象,调用起来非常简单。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p>Math中所有方法均为静态方法,并且不会创建对象,调用起来非常简单。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public static double abs(double a)</code> :返回 double 值的绝对值。</p>
<p><code>public static double ceil(double a)</code> :返回大于等于参数的最小的整数。    </p>
<p><code>public static double floor(double a)</code>:返回小于等于参数最大的整数。</p>
<p><code>public static long round(double a)</code> :返回最接近参数的 long。(相当于四舍五入方法)</p>
<h1 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h1><p>子类继承父类的属性和行为,使得子类对象具有与父类相同的属性、相同的行为。子类可以直接访问父类中的非私有的属性和行为。可以提高代码的复用性。而且类与类之间产生了关系,是多态的前提。</p>
<h2 id="继承后的特点——成员变量"><a href="#继承后的特点——成员变量" class="headerlink" title="继承后的特点——成员变量"></a>继承后的特点——成员变量</h2><ul>
<li>成员变量不重名</li>
</ul>
<p>如果子类父类中出现不重名的成员变量,这时的访问是没有影响的。</p>
<ul>
<li>成员变量重名</li>
</ul>
<p>如果子类父类中出现重名的成员变量,这时的访问是有影响的。</p>
<p>子父类中出现了同名的成员变量时,在子类中需要访问父类中非私有成员变量时,需要使用 super 关键字,修饰父类成员变量,类似于之前学过的 this 。</p>
<h2 id="继承后的特点——成员方法"><a href="#继承后的特点——成员方法" class="headerlink" title="继承后的特点——成员方法"></a>继承后的特点——成员方法</h2><ul>
<li>成员方法不重名</li>
</ul>
<p>如果子类父类中出现不重名的成员方法,这时的调用是没有影响的。对象调用方法时,会先在子类中查找有没有对应的方法,若子类中存在就会执行子类中的方法,若子类中不存在就会执行父类中相应的方法。</p>
<ul>
<li>成员方法重名——重写(Override)</li>
</ul>
<p>如果子类父类中出现重名的成员方法,这时的访问是一种特殊情况,叫做方法重写 (Override)。</p>
<p><strong>方法重写</strong> :子类中出现与父类一模一样的方法时(返回值类型,方法名和参数列表都相同),会出现覆盖效<br>果,也称为重写或者复写。声明不变,重新实现。</p>
<blockquote>
<p>小贴士:这里重写时,用到super.父类成员方法,表示调用父类的成员方法。</p>
</blockquote>
<p><strong>注意事项</strong></p>
<ol>
<li>子类方法覆盖父类方法,必须要保证权限大于等于父类权限。</li>
<li>子类方法覆盖父类方法,返回值类型、函数名和参数列表都要一模一样。</li>
</ol>
<h2 id="继承后的特点——构造方法"><a href="#继承后的特点——构造方法" class="headerlink" title="继承后的特点——构造方法"></a>继承后的特点——构造方法</h2><p>子类的初始化过程中,必须先执行父类的初始化动作。子类的构造方法中默认有一个 super() ,表示调用父类的构造方法,父类成员变量初始化后,才可以给子类使用。</p>
<h2 id="super和this"><a href="#super和this" class="headerlink" title="super和this"></a>super和this</h2><ul>
<li>父类空间优先于子类对象产生</li>
</ul>
<p>在每次创建子类对象时,先初始化父类空间,再创建其子类对象本身。目的在于子类对象中包含了其对应的父类空间,便可以包含其父类的成员,如果父类成员非private修饰,则子类可以随意使用父类成员。代码体现在子类的构造方法调用时,一定先调用父类的构造方法。</p>
<ul>
<li>super和this的含义</li>
</ul>
<p>super :代表父类的存储空间标识(可以理解为父亲的引用)。<br>this :代表当前对象的引用(谁调用就代表谁)。</p>
<ul>
<li>super和this的用法</li>
</ul>
<ol>
<li>访问成员</li>
<li>访问构造方法</li>
</ol>
<h2 id="继承的特点"><a href="#继承的特点" class="headerlink" title="继承的特点"></a>继承的特点</h2><ol>
<li>Java只支持单继承,不支持多继承。</li>
<li>Java支持多层继承(继承体系)。顶层父类是Object类。所有的类默认继承Object,作为父类。</li>
<li>子类和父类是一种相对的概念。</li>
</ol>
<h1 id="abstract关键字"><a href="#abstract关键字" class="headerlink" title="abstract关键字"></a>abstract关键字</h1><h2 id="抽象方法"><a href="#抽象方法" class="headerlink" title="抽象方法"></a>抽象方法</h2><p>使用<code>abstract</code> 关键字修饰方法,该方法就成了抽象方法,抽象方法只包含一个方法名,而没有方法体。</p>
<h2 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h2><p>如果一个类包含抽象方法,那么该类必须是抽象类。</p>
<h2 id="抽象的使用"><a href="#抽象的使用" class="headerlink" title="抽象的使用"></a>抽象的使用</h2><p>继承抽象类的子类必须重写父类所有的抽象方法。否则,该子类也必须声明为抽象类。最终,必须有子类实现该父类的抽象方法,否则,从最初的父类到最终的子类都不能创建对象,失去意义。</p>
<h2 id="抽象的关键"><a href="#抽象的关键" class="headerlink" title="抽象的关键"></a>抽象的关键</h2><ol>
<li>抽象类不能创建对象,如果创建,编译无法通过而报错。只能创建其非抽象子类的对象。</li>
</ol>
<blockquote>
<p>理解:假设创建了抽象类的对象,调用抽象的方法,而抽象方法没有具体的方法体,没有意义。</p>
</blockquote>
<ol start="2">
<li>抽象类中,可以有构造方法,是供子类创建对象时,初始化父类成员使用的。</li>
</ol>
<blockquote>
<p>理解:子类的构造方法中,有默认的super(),需要访问父类构造方法。</p>
</blockquote>
<ol start="3">
<li><p>抽象类中,不一定包含抽象方法,但是有抽象方法的类必定是抽象类。</p>
</li>
<li><p>抽象类的子类,必须重写抽象父类中所有的抽象方法,否则,编译无法通过而报错。除非该子类也是抽象类。</p>
</li>
</ol>
<blockquote>
<p>理解:假设不重写所有抽象方法,则类中可能包含抽象方法。那么创建对象后,调用抽象的方法,没有意义。</p>
</blockquote>
<h1 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h1><h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><p>接口,是Java语言中一种引用类型,是方法的集合,如果说类的内部封装了成员变量、构造方法和成员方法,那么  接口的内部主要就是封装了方法,包含抽象方法(JDK 7及以前),默认方法和静态方法(JDK 8),私有方法(JDK 9)。</p>
<p><strong>接口的定义,它与定义类方式相似,但是使用 interface 关键字。它也会被编译成.class文件,但一定要明确它并不是类,而是另外一种引用数据类型。</strong></p>
<blockquote>
<p>引用数据类型:数组,类,接口。</p>
</blockquote>
<p>接口的使用,它不能创建对象,但是可以被实现( implements ,类似于被继承)。一个实现接口的类(可以看做是接口的子类),需要实现接口中所有的抽象方法,创建该类对象,就可以调用方法了,否则它必须是一个抽象类。</p>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><ul>
<li>抽象方法</li>
</ul>
<p>使用 abstract 关键字修饰,可以省略,没有方法体。该方法供子类实现使用。</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">InterFaceName</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li>默认方法</li>
</ul>
<p>使用 default 修饰,不可省略,供子类调用或者子类重写。</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">InterFaceName</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">default</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li>静态方法</li>
</ul>
<p>使用 static 修饰,供接口直接调用。</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">InterFaceName</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">method2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ul>
<li>私有方法</li>
</ul>
<p>使用 private 修饰,供接口中的默认方法或者静态方法调用。</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">InterFaceName</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><ul>
<li>抽象方法</li>
</ul>
<p>必须全部实现</p>
<ul>
<li>默认方法</li>
</ul>
<p>可以继承,可以重写,二选一,但是只能通过实现类的对象来调用。</p>
<ul>
<li>静态方法</li>
</ul>
<p>静态与.class 文件相关,只能使用接口名调用,不可以通过实现类的类名或者实现类的对象调用。</p>
<ul>
<li>私有方法</li>
</ul>
<ol>
<li>私有方法:只有默认方法可以调用。</li>
<li>私有静态方法:默认方法和静态方法可以调用。</li>
</ol>
<p>如果一个接口中有多个默认方法,并且方法中有重复的内容,那么可以抽取出来,封装到私有方法中,供默认方法去调用。从设计的角度讲,私有的方法是对默认方法和静态方法的辅助。</p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><ul>
<li><p>接口中,无法定义成员变量,但是可以定义常量,其值不可以改变,默认使用public static final修饰。</p>
</li>
<li><p>接口中,没有构造方法,不能创建对象。</p>
</li>
<li><p>接口中,没有静态代码块。</p>
</li>
</ul>
<h1 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h1><h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><ol>
<li><p>继承或者实现【二选一】</p>
</li>
<li><p>方法的重写【意义体现:不重写,无意义】</p>
</li>
<li><p>父类引用指向子类对象【格式体现】</p>
</li>
</ol>
<h2 id="引用类型转换"><a href="#引用类型转换" class="headerlink" title="引用类型转换"></a>引用类型转换</h2><ul>
<li>向上转型</li>
</ul>
<p>多态本身是子类类型向父类类型向上转换的过程,这个过程是默认的。当父类引用指向一个子类对象时,便是向上转型。</p>
<ul>
<li>向下转型</li>
</ul>
<p>父类类型向子类类型向下转换的过程,这个过程是强制的。一个已经向上转型的子类对象,将父类引用转为子类引用,可以使用强制类型转换的格式,便是向下转型。</p>
<ul>
<li>转型的异常</li>
</ul>
<p>为了避免ClassCastException的发生,Java提供了 instanceof 关键字,给引用变量做类型的校验,格式如下:</p>
<pre class="line-numbers language-java"><code class="language-java">变量名 <span class="token keyword">instanceof</span> 数据类型
如果变量属于该数据类型<span class="token punctuation">,</span>返回<span class="token boolean">true</span>。
如果变量不属于该数据类型<span class="token punctuation">,</span>返回<span class="token boolean">false</span>。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 向上转型</span>
        Animal a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 调用的是 Cat 的 eat</span>
        a<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment" spellcheck="true">// 向下转型</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Cat</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Cat c <span class="token operator">=</span> <span class="token punctuation">(</span>Cat<span class="token punctuation">)</span> a<span class="token punctuation">;</span>
            c<span class="token punctuation">.</span><span class="token function">catchMouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// 调用的是 Cat 的 catchMouse</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token keyword">instanceof</span> <span class="token class-name">Dog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Dog d <span class="token operator">=</span> <span class="token punctuation">(</span>Dog<span class="token punctuation">)</span> a<span class="token punctuation">;</span>
            d<span class="token punctuation">.</span><span class="token function">watchHouse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// 调用的是 Dog 的 watchHouse</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="final关键字"><a href="#final关键字" class="headerlink" title="final关键字"></a>final关键字</h1><p>子类可以在父类的基础上改写父类内容,比如,方法重写。那么我们能不能随意的继承API中提供的类,改写其内容呢?显然这是不合适的。为了避免这种随意改写的情况,Java提供了 <strong>final 关键字,用于修饰不可改变内容。</strong></p>
<p>final: 不可改变。可以用于修饰类、方法和变量。<br>类:被修饰的类,不能被继承。<br>方法:被修饰的方法,不能被重写。<br>变量:被修饰的变量,不能被重新赋值。</p>
<h1 id="lt-权限-gt-关键字"><a href="#lt-权限-gt-关键字" class="headerlink" title="&lt;权限&gt;关键字"></a>&lt;权限&gt;关键字</h1><p>在Java中提供了四种访问权限,使用不同的访问权限修饰符修饰时,被修饰的内容会有不同的访问权限：</p>
<ul>
<li><p>public:公共的。</p>
</li>
<li><p>protected:受保护的</p>
</li>
<li><p>default:默认的</p>
</li>
<li><p>private:私有的</p>
</li>
</ul>
<p>编写代码时,如果没有特殊的考虑,<strong>建议这样使用权限</strong>:</p>
<p>成员变量使用<code>private</code> ,隐藏细节。<br>构造方法使用<code>public</code> ,方便创建对象。<br>成员方法使用<code>public</code>,方便调用方法。</p>
<h1 id="Object类"><a href="#Object类" class="headerlink" title="Object类"></a>Object类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.lang.Object</code> 类是Java语言中的根类,即所有类的父类。它中描述的所有方法子类都可以使用。在对象实例化的时候,最终找的父类就是Object。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public String toString()</code> :返回该对象的字符串表示。</p>
<blockquote>
<p>toString方法返回该对象的字符串表示,其实该字符串内容就是对象的类型+@+内存地址值。<br>由于toString方法返回的结果是内存地址,而在开发中,经常需要按照对象的属性得到相应的字符串表现形式,因此也需要重写它。</p>
</blockquote>
<p><code>public boolean equals(Object obj)</code>:指示其他某个对象是否与此对象“相等”。</p>
<blockquote>
<p>调用成员方法equals并指定参数为另一个对象,则可以判断这两个对象是否是相同的。这里的“相同”有默认和自定义两种方式。</p>
</blockquote>
<p><code>public static boolean equals(Object a, Object b)</code> :判断两个对象是否相等。</p>
<p>Date类</p>
<ul>
<li>查看类</li>
</ul>
<p><code>java.util.Date</code> 类表示特定的瞬间,精确到毫秒。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public Date()</code>:分配Date对象并初始化此对象,以表示分配它的时间(精确到毫秒)。</p>
<p>public Date(long date) :分配Date对象并初始化此对象,以表示自从标准基准时间(称为“历元(epoch)”。</p>
<blockquote>
<p>简单来说:使用无参构造,可以自动设置当前系统时间的毫秒时刻;指定long类型的构造参数,可以自定义毫秒时刻。</p>
</blockquote>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public long getTime()</code>把日期对象转换成对应的时间毫秒值。</p>
<h1 id="DateFormat类"><a href="#DateFormat类" class="headerlink" title="DateFormat类"></a>DateFormat类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.text.DateFormat</code> 是日期/时间格式化子类的抽象类,我们通过这个类可以帮我们完成日期和文本之间的转换,也就是可以在Date对象与String对象之间进行来回转换。<br><strong>格式化</strong>:按照指定的格式,从Date对象转换为String对象。<br><strong>解析</strong>:按照指定的格式,从String对象转换为Date对象。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p>由于DateFormat为抽象类,不能直接使用,所以需要常用的子类<code>java.text.SimpleDateFormat</code> 。这个类需要一个模式(格式)来指定格式化或解析的标准。<br><code>public SimpleDateFormat(String pattern)</code> :用给定的模式和默认语言环境的日期格式符号构造<br>SimpleDateFormat。参数pattern是一个字符串,代表日期时间的自定义格式。例如：</p>
<pre class="line-numbers language-java"><code class="language-java">DateFormat format <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy‐MM‐dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public String format(Date date)</code>:将Date对象格式化为字符串。<br><code>public Date parse(String source)</code> :将字符串解析为Date对象。</p>
<h1 id="Calendar类"><a href="#Calendar类" class="headerlink" title="Calendar类"></a>Calendar类</h1><ul>
<li>查看类</li>
</ul>
<p>java.util.Calendar 是日历类,在Date后出现,替换掉了许多Date的方法。该类将所有可能用到的时间信息封装为静态成员变量,方便获取。日历类就是方便获取各个时间属性的。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public static Calendar getInstance()</code> :使用默认时区和语言环境获得一个日历</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public int get(int field)</code> :返回给定日历字段的值。<br><code>public void set(int field, int value)</code> :将给定的日历字段设置为给定值。<br><code>public abstract void add(int field, int amount)</code>:根据日历的规则,为给定的日历字段添加或减去指<br>定的时间量。<br><code>public Date getTime()</code> :返回一个表示此Calendar时间值(从历元到现在的毫秒偏移量)的Date对象。</p>
<h1 id="System类"><a href="#System类" class="headerlink" title="System类"></a>System类</h1><ul>
<li>查看类</li>
</ul>
<p>java.lang.System 类中提供了大量的静态方法,可以获取与系统相关的信息或系统级操作。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public static long currentTimeMillis()</code> :返回以毫秒为单位的当前时间。</p>
<blockquote>
<p>currentTimeMillis方法就是 获取当前系统时间与1970年01月01日00:00点之间的毫秒差值</p>
</blockquote>
<p><code>public static void arraycopy(Object src, int srcPos, Object dest, int destPos, int length)</code> :将数组中指定的数据拷贝到另一个数组中。</p>
<blockquote>
<p>将数组中指定的数据拷贝到另一个数组中。数组的拷贝动作是系统级的,性能很高。System.arraycopy方法具有5个参数</p>
</blockquote>
<h1 id="StringBuilder类"><a href="#StringBuilder类" class="headerlink" title="StringBuilder类"></a>StringBuilder类</h1><ul>
<li>查看类</li>
</ul>
<p>如果对字符串进行拼接操作,每次拼接,都会构建一个新的String对象,既耗时,又浪费空间。为了解决这一问题,可以使用<code>java.lang.StringBuilder</code>类。查阅 <code>java.lang.StringBuilder</code> 的API,StringBuilder又称为可变字符序列,它是一个类似于 String 的字符串缓冲区,通过某些方法调用可以改变该序列的长度和内容。原来StringBuilder是个字符串的缓冲区,即它是一个容器,容器中可以装很多字符串。并且能够对其中的字符串进行各种操作。它的内部拥有一个数组用来存放字符串内容,进行字符串拼接时,直接在数组中加入新内容。StringBuilder会自动维护数组的扩容。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public StringBuilder()</code>:构造一个空的StringBuilder容器。<br><code>public StringBuilder(String str)</code> :构造一个StringBuilder容器,并将字符串添加进去。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public StringBuilder append(...)</code>:添加任意类型数据的字符串形式,并返回当前对象自身。</p>
<blockquote>
<p>append方法具有多种重载形式,可以接收任意类型的参数。任何数据作为参数都会将对应的字符串内容添加到StringBuilder中。</p>
</blockquote>
<p><code>public String toString()</code> :将当前StringBuilder对象转换为String对象。</p>
<blockquote>
<p>通过toString方法,StringBuilder对象将会转换为不可变的String对象</p>
</blockquote>
<h1 id="Collection接口"><a href="#Collection接口" class="headerlink" title="Collection接口"></a>Collection接口</h1><ul>
<li>查看接口</li>
</ul>
<p>集合按照其存储结构可以分为两大类,分别是单列集合 <code>java.util.Collection</code>和双列集合 <code>java.util.Map</code>Collection:单列集合类的根接口,用于存储一系列符合某种规则的元素,它有两个重要的子接口,分别是<code>java.util.List</code> 和 <code>java.util.Set</code> 。其中, List 的特点是元素有序、元素可重复。 Set 的特点是元素无序,而且不可重复。 List 接口的主要实现类有 java.util.ArrayList 和 java.util.LinkedList , Set 接口的主要实现类有 java.util.HashSet 和 java.util.TreeSet 。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public &lt;E&gt; Collection()</code>可以构造一个集合,<E>是泛型。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public boolean add(E e)</code> : 把给定的对象添加到当前集合中 。<br><code>public void clear()</code> :清空集合中所有的元素。<br><code>public boolean remove(E e)</code>: 把给定的对象在当前集合中删除。<br><code>public boolean contains(E e)</code>: 判断当前集合中是否包含给定的对象。<br><code>public boolean isEmpty()</code> : 判断当前集合是否为空。<br><code>public int size()</code> : 返回集合中元素的个数。<br><code>public Object[] toArray()</code> : 把集合中的元素,存储到数组中。</p>
<p><img src="/home/zhangkx/.config/Typora/typora-user-images/image-20200226222447828.png" alt="image-20200226222447828"></p>
<h1 id="Iterator接口"><a href="#Iterator接口" class="headerlink" title="Iterator接口"></a>Iterator接口</h1><ul>
<li>查看接口</li>
</ul>
<p>在程序开发中,经常需要遍历集合中的所有元素。针对这种需求,JDK专门提供了一个接口<code>java.util.Iterator</code> 。 Iterator 接口也是Java集合中的一员,但它与 Collection 、 Map 接口有所不同,Collection 接口与 Map 接口主要用于存储元素,而 Iterator 主要用于迭代访问(即遍历) Collection 中的元素,因此 Iterator 对象也被称为迭代器。</p>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public Iterator iterator()</code> : 获取集合对应的迭代器,用来遍历集合中的元素的。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public &lt;E&gt; next()</code> :返回迭代的下一个元素。<br><code>public boolean hasNext()</code>:如果仍有元素可以迭代,则返回 true。</p>
<h1 id="泛型"><a href="#泛型" class="headerlink" title="泛型"></a>泛型</h1><h2 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h2><p>Collection虽然可以存储各种对象,但实际上通常Collection只存储同一类型对象。例如都是存储字符串对象。因此在JDK5之后,新增了泛型(Generic)语法,让你在设计API时可以指定类或方法支持泛型,这样我们使用API的时候也变得更为简洁,并得到了编译时期的语法检查。</p>
<p><strong>泛型</strong>:可以在类或方法中预支地使用未知的类型。</p>
<blockquote>
<p>tips:一般在创建对象时,将未知的类型确定具体的类型。当没有指定泛型时,默认类型为Object类型。</p>
</blockquote>
<h2 id="好处"><a href="#好处" class="headerlink" title="好处"></a>好处</h2><ol>
<li>将运行时期的<code>ClassCastException</code>,转移到了编译时期变成了编译失败。</li>
<li>避免了类型强转的麻烦。</li>
</ol>
<h2 id="定义和使用"><a href="#定义和使用" class="headerlink" title="定义和使用"></a>定义和使用</h2><ul>
<li>含有泛型的类</li>
</ul>
<p>修饰符 class 类名&lt;代表泛型的变量&gt; { }</p>
<ul>
<li>含有泛型的方法</li>
</ul>
<p>修饰符 &lt;代表泛型的变量&gt; 返回值类型 方法名(参数){ }</p>
<ul>
<li>含有泛型的接口</li>
</ul>
<p>修饰符 interface接口名&lt;代表泛型的变量&gt; { }</p>
<h2 id="受限泛型"><a href="#受限泛型" class="headerlink" title="受限泛型"></a>受限泛型</h2><ul>
<li>泛型的上限</li>
</ul>
<p>格式: 类型名称 &lt;? extends 类 &gt; 对象名称<br>意义: 只能接收该类型及其子类</p>
<ul>
<li>泛型的下限</li>
</ul>
<p>格式: 类型名称 &lt;? super 类 &gt; 对象名称<br>意义: 只能接收该类型及其父类型</p>
<h1 id="List接口"><a href="#List接口" class="headerlink" title="List接口"></a>List接口</h1><ul>
<li>查看接口</li>
</ul>
<p>java.util.List 接口继承自 Collection 接口,是单列集合的一个重要分支,习惯性地会将实现了 List 接口的对象称为List集合。在List集合中允许出现重复的元素,所有的元素是以一种线性方式进行存储的,在程序中可以通过索引来访问集合中的指定元素。另外,List集合还有一个特点就是元素有序,即元素的存入顺序和取出顺序一致。<strong>有序——重复</strong></p>
<ul>
<li>查看方法</li>
</ul>
<p><code>public void add(int index, E element)</code> : 将指定的元素,添加到该集合中的指定位置上。<br><code>public E get(int index)</code>:返回集合中指定位置的元素。<br><code>public E remove(int index)</code> : 移除列表中指定位置的元素, 返回的是被移除的元素。<br><code>public E set(int index, E element)</code>:用指定元素替换集合中指定位置的元素,返回值的更新前的元素。</p>
<h1 id="LinkedList类"><a href="#LinkedList类" class="headerlink" title="LinkedList类"></a>LinkedList类</h1><ul>
<li>查看类</li>
</ul>
<p>java.util.LinkedList 集合数据存储的结构是链表结构。方便元素添加、删除的集合。</p>
<ul>
<li>查看方法</li>
</ul>
<p><code>public void addFirst(E e)</code>:将指定元素插入此列表的开头。<br><code>public void addLast(E e)</code>:将指定元素添加到此列表的结尾。<br><code>public E getFirst()</code> :返回此列表的第一个元素。<br><code>public E getLast()</code> :返回此列表的最后一个元素。<br><code>public E removeFirst()</code> :移除并返回此列表的第一个元素。<br><code>public E removeLast()</code>:移除并返回此列表的最后一个元素。<br><code>public E pop()</code>:从此列表所表示的堆栈处弹出一个元素。<br><code>public void push(E e)</code> :将元素推入此列表所表示的堆栈。<br><code>public boolean isEmpty()</code> :如果列表不包含元素,则返回true。</p>
<h1 id="Set接口"><a href="#Set接口" class="headerlink" title="Set接口"></a>Set接口</h1><ul>
<li>查看接口</li>
</ul>
<p><code>java.util.Set</code> 接口和 <code>java.util.List</code>接口一样,同样继承自 Collection 接口,它与 Collection 接口中的方<br>法基本一致,并没有对 Collection 接口进行功能上的扩充,只是比 Collection 接口更加严格了。与 List 接口不<br>同的是, Set 接口中元素无序,并且都会以某种规则保证存入的元素不出现重复。</p>
<h1 id="HashSet类"><a href="#HashSet类" class="headerlink" title="HashSet类"></a>HashSet类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.util.HashSet</code> 是 Set 接口的一个实现类,它所存储的元素是不可重复的,并且元素都是无序的(即存取顺序<br>不一致)。 <code>java.util.HashSet</code> 底层的实现其实是一个<code>java.util.HashMap</code> 支持HashSet 是根据对象的哈希值来确定元素在集合中的存储位置,因此具有良好的存取和查找性能。保证元素唯一性的方式依赖于: hashCode 与 equals 方法。</p>
<h1 id="LinkedHashSet类"><a href="#LinkedHashSet类" class="headerlink" title="LinkedHashSet类"></a>LinkedHashSet类</h1><ul>
<li>查看类</li>
</ul>
<p>我们知道HashSet保证元素唯一,可是元素存放进去是没有顺序的,那么我们要保证有序,怎么办呢?<br>在<code>HashSet</code>下面有一个子类<code></code>java.util.LinkedHashSet` ,它是链表和哈希表组合的一个数据存储结构。</p>
<h1 id="Collections类"><a href="#Collections类" class="headerlink" title="Collections类"></a>Collections类</h1><ul>
<li>查看类</li>
</ul>
<p><code>java.utils.Collections</code>是集合工具类,用来对集合进行操作。</p>
<ul>
<li>查看方法</li>
</ul>
<p><code>public static &lt;T&gt; boolean addAll(Collection&lt;T&gt; c, T... elements)</code>:往集合中添加一些元素。<br><code>public static void shuffle(List&lt;?&gt; list)</code>打乱顺序 :打乱集合顺序。<br><code>public static &lt;T&gt; void sort(List&lt;T&gt; list)</code>:将集合中元素按照默认规则排序。<br><code>public static &lt;T&gt; void sort(List&lt;T&gt; list,Comparator&lt;? super T&gt; )</code>:将集合中元素按照指定规则排<br>序。</p>
<h1 id="Comparator-Comparable接口"><a href="#Comparator-Comparable接口" class="headerlink" title="Comparator/Comparable接口"></a>Comparator/Comparable接口</h1><ul>
<li>查看接口</li>
</ul>
<p><strong>Comparable</strong>:强行对实现它的每个类的对象进行整体排序。这种排序被称为类的自然排序,类的compareTo方法被称为它的自然比较方法。只能在类中实现compareTo()一次,不能经常修改类的代码实现自己想要的排序。实现此接口的对象列表(和数组)可以通过Collections.sort(和Arrays.sort)进行自动排序,对象可以用作有序映射中的键或有序集合中的元素,无需指定比较器。<br><strong>Comparator</strong>:强行对某个对象进行整体排序。可以将Comparator 传递给sort方法(如Collections.sort或Arrays.sort),从而允许在排序顺序上实现精确控制。还可以使用Comparator来控制某些数据结构(如有序set或有序映射)的顺序,或者为那些没有自然顺序的对象collection提供排序。</p>
<ul>
<li>使用举例</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token operator">&lt;</span>Student<span class="token operator">></span><span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span>Student o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age‐o<span class="token punctuation">.</span>age<span class="token punctuation">;</span><span class="token comment" spellcheck="true">//升序</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java">Collections<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token operator">&lt;</span>Student<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span>Student o1<span class="token punctuation">,</span> Student o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o2<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span>‐o1<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//以学生的年龄降序</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="Map接口"><a href="#Map接口" class="headerlink" title="Map接口"></a>Map接口</h1><ul>
<li>查看接口</li>
</ul>
<p>Collection 中的集合,元素是孤立存在的(理解为单身),向集合中存储元素采用一个个元素的方式存储。Map 中的集合,元素是成对存在的(理解为夫妻)。每个元素由键与值两部分组成,通过键可以找对所对应的值。Collection 中的集合称为单列集合, Map 中的集合称为双列集合。需要注意的是, Map 中的集合不能包含重复的键,值可以重复;每个键只能对应一个值。<br>通过查看Map接口描述,看到Map有多个子类,这里我们主要讲解常用的HashMap集合、inkedHashMap集合。</p>
<ol>
<li><code>HashMap</code>:存储数据采用的哈希表结构,元素的存取顺序不能保证一致。由于要保证键的唯一、不重复,需要重写键的hashCode()方法、equals()方法。</li>
<li><code>LinkedHashMap</code>:HashMap下有个子类<code>LinkedHashMap</code>,存储数据采用的哈希表结构+链表结构。通过链表结构可以保证元素的存取顺序一致;通过哈希表结构可以保证的键的唯一、不重复,需要重写键的hashCode()方法、equals()方法。</li>
</ol>
<ul>
<li>查看方法</li>
</ul>
<p><code>public V put(K key, V value)</code>: 把指定的键与指定的值添加到Map集合中。<br><code>public V remove(Object key)</code> : 把指定的键所对应的键值对元素在Map集合中删除,返回被删除元素的值。</p>
<p>​    * 利用key集遍历</p>
<p><code>public Set&lt;K&gt; keySet()</code> : 获取Map集合中所有的键,存储到Set集合中。<br><code>public V get(Object key)</code> 根据指定的键,在Map集合中获取对应的值。</p>
<p>​    * 利用Entry集遍历</p>
<p><code>public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</code> : 获取到Map集合中所有的键值对对象的集合(Set集合)。<br><code>public K getKey()</code> :获取Entry对象中的键。<br><code>public V getValue()</code> :获取Entry对象中的值。</p>
<h1 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h1><h2 id="概述-1"><a href="#概述-1" class="headerlink" title="概述"></a>概述</h2><ul>
<li>定义</li>
</ul>
<p>异常 :指的是程序在执行过程中,出现的非正常的情况,最终会导致JVM的非正常停止。</p>
<p>在Java等面向对象的编程语言中,异常本身是一个类,产生异常就是创建异常对象并抛出了一个异常对象。Java处<br>理异常的方式是中断处理。<br>异常指的并不是语法错误,语法错了,编译不通过,不会产生字节码文件,根本不能运行.</p>
<ul>
<li>分类</li>
</ul>
<p>异常机制其实是帮助我们找到程序中的问题,异常的根类是<code>java.lang.Throwable</code> ,其下有两个子类:<br><code>java.lang.Error</code> 与 <code>java.lang.Exception</code> ,平常所说的异常指<code>java.lang.Exception</code>。</p>
<p>其中<code>java.lang.Error</code> 无法解决只能避免，<code>java.lang.Exception</code> 可以捕捉处理。</p>
<p><img src="/home/zhangkx/.config/Typora/typora-user-images/image-20200227194204075.png" alt="image-20200227194204075"></p>
<ul>
<li>Throwable常见的方法</li>
</ul>
<p><code>public void printStackTrace()</code>:打印异常的详细信息。<br>包含了异常的类型,异常的原因,还包括异常出现的位置,在开发和调试阶段,都得使用<code>printStackTrace</code>。<br><code>public String getMessage()</code> :获取发生异常的原因。<br>提示给用户的时候,就提示错误原因。<br><code>public String toString()</code>:获取异常的类型和异常描述信息(不用)。</p>
<h2 id="抛出异常throw"><a href="#抛出异常throw" class="headerlink" title="抛出异常throw"></a>抛出异常throw</h2><p>在编写程序时,我们必须要考虑程序出现问题的情况。比如,在定义方法时,方法需要接受参数。那么,当调用方<br>法使用接受到的参数时,首先需要先对参数数据进行合法的判断,数据若不合法,就应该告诉调用者,传递合法的<br>数据进来。这时需要使用抛出异常的方式来告诉调用者。<br>在java中,提供了一个throw关键字,它用来抛出一个指定的异常对象。那么,抛出一个异常具体如何操作呢?</p>
<ol>
<li>创建一个异常对象。封装一些提示信息(信息可以自己编写)。</li>
<li>需要将这个异常对象告知给调用者。怎么告知呢?怎么将这个异常对象传递到调用者处呢?通过关键字throw<br>就可以完成。throw 异常对象。<br>throw用在方法内,用来抛出一个异常对象,将这个异常对象传递到调用者处,并结束当前方法的执行。</li>
</ol>
<p>这是主动的抛出异常，用<code>throw new Exception(&quot;哥们,角标越界了~~~&quot;);</code>来表示。</p>
<h2 id="声明异常throws"><a href="#声明异常throws" class="headerlink" title="声明异常throws"></a>声明异常throws</h2><p>声明异常:将问题标识出来,报告给调用者。如果方法内通过throw抛出了编译时异常,而没有捕获处理(稍后讲<br>解该方式),那么必须通过throws进行声明,让调用者去处理。<br>关键字throws运用于方法声明之上,用于表示当前方法不处理异常,而是提醒该方法的调用者来处理异常(抛出异常).</p>
<h2 id="捕获异常try…catch"><a href="#捕获异常try…catch" class="headerlink" title="捕获异常try…catch"></a>捕获异常try…catch</h2><p>如果异常出现的话,会立刻终止程序,所以我们得处理异常:</p>
<ol>
<li>该方法不处理,而是声明抛出,由该方法的调用者来处理(throws)。</li>
<li>在方法中使用try-catch的语句块来处理异常。<br>try-catch的方式就是捕获异常。<br>捕获异常:Java中对异常有针对性的语句进行捕获,可以对出现的异常进行指定方式的处理。</li>
</ol>
<h1 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h1><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>程序启动运行main时候,java虚拟机启动一个进程,主线程main在main()调用时候被创建。随着调用mt的对象的start方法,另外一个新的线程也启动了,这样,整个应用就在多线程下运行。<br>通过这张图我们可以很清晰的看到多线程的执行流程,那么为什么可以完成并发执行呢?我们再来讲一讲原理。</p>
<p>多线程执行时,到底在内存中是如何运行的呢?以上个程序为例,进行图解说明:<br>多线程执行时,在栈内存中,其实每一个执行线程都有一片自己所属的栈内存空间。进行方法的压栈和弹栈。</p>
<p><img src="/home/zhangkx/.config/Typora/typora-user-images/image-20200227212036464.png" alt="image-20200227212036464"></p>
<h2 id="Thread类"><a href="#Thread类" class="headerlink" title="Thread类"></a>Thread类</h2><ul>
<li>查看类</li>
</ul>
<p>Java使用<code>java.lang.Thread</code> 类代表线程,所有的线程对象都必须是Thread类或其子类的实例。每个线程的作用是完成一定的任务,实际上就是执行一段程序流即一段顺序执行的代码。Java使用线程执行体来代表这段程序流。<br>Java中通过继承Thread类来创建并启动多线程的步骤如下:</p>
<ol>
<li>定义Thread类的子类,并重写该类的run()方法,该run()方法的方法体就代表了线程需要完成的任务,因此把run()方法称为线程执行体。</li>
<li>创建Thread子类的实例,即创建了线程对象</li>
<li>调用线程对象的start()方法来启动该线程</li>
</ol>
<ul>
<li>查看构造方法</li>
</ul>
<p><code>public Thread()</code> :分配一个新的线程对象。<br><code>public Thread(String name)</code>:分配一个指定名字的新的线程对象。<br><code>public Thread(Runnable target)</code>:分配一个带有指定目标新的线程对象。<br><code>public Thread(Runnable target,String name)</code> :分配一个带有指定目标新的线程对象并指定名字。</p>
<ul>
<li>查看成员方法</li>
</ul>
<p><code>public String getName()</code> :获取当前线程名称。<br><code>public void start()</code> :导致此线程开始执行; Java虚拟机调用此线程的run方法。<br><code>public void run()</code> :此线程要执行的任务在此处定义代码。<br><code>public static void sleep(long millis)</code> :使当前正在执行的线程以指定的毫秒数暂停(暂时停止执行)。<br><code>public static Thread currentThread()</code>:返回对当前正在执行的线程对象的引用。</p>
<h2 id="Runnable接口"><a href="#Runnable接口" class="headerlink" title="Runnable接口"></a>Runnable接口</h2><ul>
<li>查看接口</li>
</ul>
<p>采用<code>java.lang.Runnable</code> 也是非常常见的一种,我们只需要重写run方法即可。<br>步骤如下:</p>
<ol>
<li>定义Runnable接口的实现类,并重写该接口的run()方法,该run()方法的方法体同样是该线程的线程执行体。</li>
<li>创建Runnable实现类的实例,并以此实例作为Thread的target来创建Thread对象,该Thread对象才是真正的线程对象。</li>
<li>调用线程对象的start()方法来启动线程。</li>
</ol>
<p>通过实现Runnable接口,使得该类有了多线程类的特征。run()方法是多线程程序的一个执行目标。所有的多线程代码都在run方法里面。Thread类实际上也是实现了Runnable接口的类。<br>在启动的多线程的时候,需要先通过Thread类的构造方法Thread(Runnable target) 构造出对象,然后调用Thread对象的start()方法来运行多线程代码。实际上所有的多线程代码都是通过运行Thread的start()方法来运行的。因此,不管是继承Thread类还是实现Runnable接口来实现多线程,最终还是通过Thread的对象的API来控制线程的,熟悉Thread类的API是进行多线程编程的基础。</p>
<blockquote>
<p>tips:Runnable对象仅仅作为Thread对象的target,Runnable实现类里包含的run()方法仅作为线程执行体。而实际的线程对象依然是Thread实例,只是该Thread线程负责执行其target的run()方法。</p>
</blockquote>
<ul>
<li>Thread和Runnable的区别</li>
</ul>
<p>如果一个类继承Thread,则不适合资源共享。但是如果实现了Runable接口的话,则很容易的实现资源共享。<br>实现Runnable接口比继承Thread类所具有的优势:</p>
<ol>
<li>适合多个相同的程序代码的线程去共享同一个资源。</li>
<li>可以避免java中的单继承的局限性。</li>
<li>增加程序的健壮性,实现解耦操作,代码可以被多个线程共享,代码和线程独立。</li>
<li>线程池只能放入实现Runable或Callable类线程,不能直接放入继承Thread的类。</li>
</ol>
<blockquote>
<p>扩充:在java中,每次程序运行至少启动2个线程。一个是main线程,一个是垃圾收集线程。因为每当使用java命令执行一个类的时候,实际上都会启动一个JVM,每一个JVM其实在就是在操作系统中启动了一个进程。</p>
</blockquote>
<h2 id="线程安全"><a href="#线程安全" class="headerlink" title="线程安全"></a>线程安全</h2><p>当我们使用多个线程访问同一资源的时候,且多个线程中对资源有写的操作,就容易出现线程安全问题。<br>要解决上述多线程并发访问一个资源的安全性问题:也就是解决重复票与不存在票问题,Java中提供了同步机制(synchronized)来解决。</p>
<h3 id="同步代码块"><a href="#同步代码块" class="headerlink" title="同步代码块"></a>同步代码块</h3><p>同步代码块: synchronized 关键字可以用于方法中的某个区块中,表示只对这个区块的资源实行互斥访问。<br>格式:</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">synchronized</span><span class="token punctuation">(</span>同步锁<span class="token punctuation">)</span><span class="token punctuation">{</span>
需要同步操作的代码
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>同步锁:<br>对象的同步锁只是一个概念,可以想象为在对象上标记了一个锁.</p>
<ol>
<li>锁对象 可以是任意类型。</li>
<li>多个线程对象 要使用同一把锁。</li>
</ol>
<p>注意:在任何时候,最多允许一个线程拥有同步锁,谁拿到锁就进入代码块,其他的线程只能在外等着<br>(BLOCKED)。</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ticket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    Object lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/*
    * 执行卖票操作
    */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//每个窗口卖票的操作</span>
        <span class="token comment" spellcheck="true">//窗口 永远开启</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>ticket<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//有票 可以卖</span>
                    <span class="token comment" spellcheck="true">//出票操作</span>
                    <span class="token comment" spellcheck="true">//使用sleep模拟一下出票时间</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token comment" spellcheck="true">// TODO Auto‐generated catch block</span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">//获取当前线程对象的名字</span>
                String name <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">"正在卖:"</span><span class="token operator">+</span>ticket‐‐<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="同步方法"><a href="#同步方法" class="headerlink" title="同步方法"></a>同步方法</h3><p>同步方法:使用synchronized修饰的方法,就叫做同步方法,保证A线程执行该方法的时候,其他线程只能在方法外等着。<br>格式:</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
可能会产生线程安全问题的代码
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>同步锁是谁?<br>对于非static方法,同步锁就是this。<br>对于static方法,我们使用当前方法所在类的字节码对象(类名.class)。</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ticket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">/*
    * 执行卖票操作
    */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//每个窗口卖票的操作</span>
        <span class="token comment" spellcheck="true">//窗口 永远开启</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">sellTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/*
    * 锁对象 是 谁调用这个方法 就是谁
    *
    隐含 锁对象 就是    this
    *
    */</span>
    <span class="token keyword">public</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">sellTicket</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ticket<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//有票 可以卖</span>
            <span class="token comment" spellcheck="true">//出票操作</span>
            <span class="token comment" spellcheck="true">//使用sleep模拟一下出票时间</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// TODO Auto‐generated catch block</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">//获取当前线程对象的名字</span>
            String name <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">"正在卖:"</span><span class="token operator">+</span>ticket‐‐<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="LOCK锁"><a href="#LOCK锁" class="headerlink" title="LOCK锁"></a>LOCK锁</h3><p><code>java.util.concurrent.locks.Lock</code>机制提供了比synchronized代码块和synchronized方法更广泛的锁定操作,同步代码块/同步方法具有的功能Lock都有,除此之外更强大,更体现面向对象。<br>Lock锁也称同步锁,加锁与释放锁方法化了,如下:<br><code>public void lock()</code> :加同步锁。<br><code>public void unlock()</code> :释放同步锁。</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Ticket</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> ticket <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Lock lock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReentrantLock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*
* 执行卖票操作
*/</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">//每个窗口卖票的操作</span>
    <span class="token comment" spellcheck="true">//窗口 永远开启</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        lock<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>ticket<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//有票 可以卖</span>
            <span class="token comment" spellcheck="true">//出票操作</span>
            <span class="token comment" spellcheck="true">//使用sleep模拟一下出票时间</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment" spellcheck="true">// TODO Auto‐generated catch block</span>
                e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment" spellcheck="true">//获取当前线程对象的名字</span>
            String name <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token operator">+</span><span class="token string">"正在卖:"</span><span class="token operator">+</span>ticket‐‐<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        lock<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="等待唤醒机制"><a href="#等待唤醒机制" class="headerlink" title="等待唤醒机制"></a>等待唤醒机制</h2><p><img src="/home/zhangkx/.config/Typora/typora-user-images/image-20200227213731405.png" alt="image-20200227213731405"></p>
<p>这是多个线程间的一种协作机制。谈到线程我们经常想到的是线程间的竞争(race),比如去争夺锁,但这并不是故事的全部,线程间也会有协作机制。就好比在公司里你和你的同事们,你们可能存在在晋升时的竞争,但更多时候你们更多是一起合作以完成某些任务。<br>就是在一个线程进行了规定操作后,就进入等待状态(wait()), 等待其他线程执行完他们的指定代码过后 再将其唤醒(notify());在有多个线程进行等待时, 如果需要,可以使用 notifyAll()来唤醒所有的等待线程。wait/notify 就是线程间的一种协作机制。</p>
<p>等待唤醒机制就是用于解决线程间通信的问题的,使用到的3个方法的含义如下:</p>
<ol>
<li>wait:线程不再活动,不再参与调度,进入 wait set 中,因此不会浪费 CPU 资源,也不会去竞争锁了,这时<br>的线程状态即是 WAITING。它还要等着别的线程执行一个特别的动作,也即是“通知(notify)”在这个对象上等待的线程从wait set 中释放出来,重新进入到调度队列(ready queue)中</li>
<li>notify:则选取所通知对象的 wait set 中的一个线程释放;例如,餐馆有空位置后,等候就餐最久的顾客最先入座。</li>
<li>notifyAll:则释放所通知对象的 wait set 上的全部线程。</li>
</ol>
<blockquote>
<p>注意:<br>哪怕只通知了一个等待的线程,被通知线程也不能立即恢复执行,因为它当初中断的地方是在同步块内,而此刻它已经不持有锁,所以她需要再次尝试去获取锁(很可能面临其它线程的竞争),成功后才能在当初调用 wait 方法之后的地方恢复执行。<br>总结如下:</p>
<ol>
<li>如果能获取锁,线程就从 WAITING 状态变成 RUNNABLE 状态;</li>
<li>否则,从 wait set 出来,又进入 entry set,线程就从 WAITING 状态又变成 BLOCKED 状态</li>
</ol>
</blockquote>
<ul>
<li>吃包子例子</li>
</ul>
<p>包子资源类：</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaoZi</span> <span class="token punctuation">{</span>
    String pier <span class="token punctuation">;</span>
    String xianer <span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">//包子资源 是否存在 包子资源状态</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>吃货线程类:</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChiHuo</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token keyword">private</span> BaoZi bz<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">ChiHuo</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span>BaoZi bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bz <span class="token operator">=</span> bz<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>bz<span class="token punctuation">.</span>flag <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//没包子</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        bz<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"吃货正在吃"</span><span class="token operator">+</span>bz<span class="token punctuation">.</span>pier<span class="token operator">+</span>bz<span class="token punctuation">.</span>xianer<span class="token operator">+</span><span class="token string">"包子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                bz<span class="token punctuation">.</span>flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
                bz<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>包子铺线程类</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BaoZiPu</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> BaoZi bz<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">BaoZiPu</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span>BaoZi bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bz <span class="token operator">=</span> bz<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//造包子</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment" spellcheck="true">//同步</span>
            <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>bz<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>bz<span class="token punctuation">.</span>flag <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment" spellcheck="true">//包子资源存在</span>
                    <span class="token keyword">try</span> <span class="token punctuation">{</span>
                        bz<span class="token punctuation">.</span><span class="token function">wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                <span class="token comment" spellcheck="true">// 没有包子造包子</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"包子铺开始做包子"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span><span class="token punctuation">(</span>count<span class="token operator">%</span><span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// 冰皮五仁</span>
                    bz<span class="token punctuation">.</span>pier <span class="token operator">=</span> <span class="token string">"冰皮"</span><span class="token punctuation">;</span>
                    bz<span class="token punctuation">.</span>xianer <span class="token operator">=</span> <span class="token string">"五仁"</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
                    <span class="token comment" spellcheck="true">// 薄皮牛肉大葱</span>
                    bz<span class="token punctuation">.</span>pier <span class="token operator">=</span> <span class="token string">"薄皮"</span><span class="token punctuation">;</span>
                    bz<span class="token punctuation">.</span>xianer <span class="token operator">=</span> <span class="token string">"牛肉大葱"</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
                count<span class="token operator">++</span><span class="token punctuation">;</span>
                bz<span class="token punctuation">.</span>flag<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"包子造好了:"</span><span class="token operator">+</span>bz<span class="token punctuation">.</span>pier<span class="token operator">+</span>bz<span class="token punctuation">.</span>xianer<span class="token punctuation">)</span><span class="token punctuation">;</span>
                System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"吃货来吃吧"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment" spellcheck="true">//唤醒等待线程 (吃货)</span>
                bz<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>测试类</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Demo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">//等待唤醒案例</span>
        BaoZi bz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaoZi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ChiHuo ch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChiHuo</span><span class="token punctuation">(</span><span class="token string">"吃货"</span><span class="token punctuation">,</span>bz<span class="token punctuation">)</span><span class="token punctuation">;</span>
        BaoZiPu bzp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BaoZiPu</span><span class="token punctuation">(</span><span class="token string">"包子铺"</span><span class="token punctuation">,</span>bz<span class="token punctuation">)</span><span class="token punctuation">;</span>
        ch<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bzp<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="线程池"><a href="#线程池" class="headerlink" title="线程池"></a>线程池</h2><p>线程池:其实就是一个容纳多个线程的容器,其中的线程可以反复使用,省去了频繁创建线程对象的操作,无需反复创建线程而消耗过多资源。</p>
<p>合理利用线程池能够带来三个好处:</p>
<ol>
<li><p>降低资源消耗。减少了创建和销毁线程的次数,每个工作线程都可以被重复利用,可执行多个任务。</p>
</li>
<li><p>提高响应速度。当任务到达时,任务可以不需要的等到线程创建就能立即执行。</p>
</li>
<li><p>提高线程的可管理性。可以根据系统的承受能力,调整线程池中工作线线程的数目,防止因为消耗过多的内<br>存,而把服务器累趴下(每个线程需要大约1MB内存,线程开的越多,消耗的内存也就越大,最后死机)。</p>
</li>
</ol>
<ul>
<li>查看线程池</li>
</ul>
<p>Java里面线程池的顶级接口是<code>java.util.concurrent.Executor</code>,但是严格意义上讲 Executor 并不是一个线程<br>池,而只是一个执行线程的工具。真正的线程池接口是<code>java.util.concurrent.ExecutorService</code>。<br>要配置一个线程池是比较复杂的,尤其是对于线程池的原理不是很清楚的情况下,很有可能配置的线程池不是较优<br>的,因此在 <code>java.util.concurrent.Executors</code> 线程工厂类里面提供了一些静态工厂,生成一些常用的线程池。官<br>方建议使用<code>Executors</code>工程类来创建线程池对象。</p>
<ul>
<li>Executors类构造方法</li>
</ul>
<p><code>public static ExecutorService newFixedThreadPool(int nThreads)</code> :返回线程池对象。(创建的是有界线程池,也就是池中的线程个数可以指定最大数量)获取到了一个线程池ExecutorService 对象。</p>
<ul>
<li>Executors类成员方法</li>
</ul>
<p><code>public Future&lt;?&gt; submit(Runnable task)</code> :获取线程池中的某一个线程对象,并执行</p>
<blockquote>
<p>Future接口:用来记录线程任务执行完毕后产生的结果。线程池创建与使用。</p>
</blockquote>
<ul>
<li>使用步骤</li>
</ul>
<ol>
<li>创建线程池对象。</li>
<li>创建Runnable接口子类对象。(task)</li>
<li>提交Runnable接口子类对象。(take task)</li>
<li>关闭线程池(一般不做)。</li>
</ol>
<ul>
<li>示例代码</li>
</ul>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"我要一个教练"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            Thread<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"教练来了: "</span> <span class="token operator">+</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"教我游泳,交完后,教练回到了游泳池"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadPoolDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true">// 创建线程池对象</span>
        ExecutorService service <span class="token operator">=</span> Executors<span class="token punctuation">.</span><span class="token function">newFixedThreadPool</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//包含2个线程对象</span>
        <span class="token comment" spellcheck="true">// 创建Runnable实例对象</span>
        MyRunnable r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">//自己创建线程对象的方式</span>
        <span class="token comment" spellcheck="true">// Thread t = new Thread(r);</span>
        <span class="token comment" spellcheck="true">// t.start(); ‐‐‐> 调用MyRunnable中的run()</span>

        <span class="token comment" spellcheck="true">// 从线程池中获取线程对象,然后调用MyRunnable中的run()</span>
        service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 再获取个线程对象,调用MyRunnable中的run()</span>
        service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        service<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">// 注意:submit方法调用结束后,程序并不终止,是因为线程池控制了线程的关闭。</span>
        <span class="token comment" spellcheck="true">// 将使用完的线程又归还到了线程池中</span>
        <span class="token comment" spellcheck="true">// 关闭线程池</span>
        <span class="token comment" spellcheck="true">//service.shutdown();</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/03/03/old/java%E5%92%8Cos%E7%9A%84%E4%BA%A4%E4%BA%92%E7%BB%86%E8%8A%82/" rel="prev" title="java和os的交互细节">
      <i class="fa fa-chevron-left"></i> java和os的交互细节
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/05/old/java-2-%E6%B5%8B%E8%AF%95%E5%92%8C%E5%8F%8D%E5%B0%84/" rel="next" title="java#2-测试和反射">
      java#2-测试和反射 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#重载"><span class="nav-text">重载</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#容器"><span class="nav-text">容器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数组"><span class="nav-text">数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#封装——private关键字"><span class="nav-text">封装——private关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#封装优化1——this关键字"><span class="nav-text">封装优化1——this关键字</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#封装优化2——构造方法"><span class="nav-text">封装优化2——构造方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Scanner类"><span class="nav-text">Scanner类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Random类"><span class="nav-text">Random类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ArrayList类"><span class="nav-text">ArrayList类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#String类"><span class="nav-text">String类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#static关键字"><span class="nav-text">static关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#类变量"><span class="nav-text">类变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#静态方法"><span class="nav-text">静态方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注意事项"><span class="nav-text">注意事项</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Arrays类"><span class="nav-text">Arrays类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Math类"><span class="nav-text">Math类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#继承"><span class="nav-text">继承</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#继承后的特点——成员变量"><span class="nav-text">继承后的特点——成员变量</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承后的特点——成员方法"><span class="nav-text">继承后的特点——成员方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承后的特点——构造方法"><span class="nav-text">继承后的特点——构造方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#super和this"><span class="nav-text">super和this</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#继承的特点"><span class="nav-text">继承的特点</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#abstract关键字"><span class="nav-text">abstract关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#抽象方法"><span class="nav-text">抽象方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抽象类"><span class="nav-text">抽象类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抽象的使用"><span class="nav-text">抽象的使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抽象的关键"><span class="nav-text">抽象的关键</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#接口"><span class="nav-text">接口</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述"><span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定义"><span class="nav-text">定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实现"><span class="nav-text">实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注意"><span class="nav-text">注意</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#多态"><span class="nav-text">多态</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#前提"><span class="nav-text">前提</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#引用类型转换"><span class="nav-text">引用类型转换</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#final关键字"><span class="nav-text">final关键字</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#lt-权限-gt-关键字"><span class="nav-text">&lt;权限&gt;关键字</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Object类"><span class="nav-text">Object类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DateFormat类"><span class="nav-text">DateFormat类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Calendar类"><span class="nav-text">Calendar类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#System类"><span class="nav-text">System类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#StringBuilder类"><span class="nav-text">StringBuilder类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Collection接口"><span class="nav-text">Collection接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Iterator接口"><span class="nav-text">Iterator接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#泛型"><span class="nav-text">泛型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#定义-1"><span class="nav-text">定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#好处"><span class="nav-text">好处</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定义和使用"><span class="nav-text">定义和使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#受限泛型"><span class="nav-text">受限泛型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#List接口"><span class="nav-text">List接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#LinkedList类"><span class="nav-text">LinkedList类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Set接口"><span class="nav-text">Set接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#HashSet类"><span class="nav-text">HashSet类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#LinkedHashSet类"><span class="nav-text">LinkedHashSet类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Collections类"><span class="nav-text">Collections类</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Comparator-Comparable接口"><span class="nav-text">Comparator&#x2F;Comparable接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Map接口"><span class="nav-text">Map接口</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#异常"><span class="nav-text">异常</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#概述-1"><span class="nav-text">概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#抛出异常throw"><span class="nav-text">抛出异常throw</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#声明异常throws"><span class="nav-text">声明异常throws</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#捕获异常try…catch"><span class="nav-text">捕获异常try…catch</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#线程"><span class="nav-text">线程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#原理"><span class="nav-text">原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Thread类"><span class="nav-text">Thread类</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Runnable接口"><span class="nav-text">Runnable接口</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线程安全"><span class="nav-text">线程安全</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#同步代码块"><span class="nav-text">同步代码块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同步方法"><span class="nav-text">同步方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#LOCK锁"><span class="nav-text">LOCK锁</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#等待唤醒机制"><span class="nav-text">等待唤醒机制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#线程池"><span class="nav-text">线程池</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="摘星"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">摘星</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">261</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">142</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zhangkexuan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhangkexuan" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/kexuan_zhang@qq.com" title="E-Mail → kexuan_zhang@qq.com"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">摘星</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>

<!-- ҳ����С���� -->
<script type="text/javascript" src="/js/clicklove.js"></script>
