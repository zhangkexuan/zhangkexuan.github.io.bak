<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="java io 相关总结">
<meta property="og:type" content="article">
<meta property="og:title" content="JAVA-io">
<meta property="og:url" content="http://yoursite.com/2020/04/19/JAVA-io/index.html">
<meta property="og:site_name" content="摘星">
<meta property="og:description" content="java io 相关总结">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/04/19/JAVA-io/1587621505650.png">
<meta property="og:image" content="http://yoursite.com/2020/04/19/JAVA-io/1587622152213.png">
<meta property="article:published_time" content="2020-04-19T05:19:31.000Z">
<meta property="article:modified_time" content="2021-05-19T01:56:04.239Z">
<meta property="article:author" content="摘星">
<meta property="article:tag" content="java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/04/19/JAVA-io/1587621505650.png">

<link rel="canonical" href="http://yoursite.com/2020/04/19/JAVA-io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>JAVA-io | 摘星</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">摘星</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/19/JAVA-io/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="摘星">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="摘星">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          JAVA-io
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-19 13:19:31" itemprop="dateCreated datePublished" datetime="2020-04-19T13:19:31+08:00">2020-04-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java%E5%9F%BA%E7%A1%80/" itemprop="url" rel="index"><span itemprop="name">java基础</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>java io 相关总结</p>
<span id="more"></span>

<h1 id="磁盘操作"><a href="#磁盘操作" class="headerlink" title="磁盘操作"></a>磁盘操作</h1><pre><code class="java">public class File
    implements Serializable, Comparable&lt;File&gt;
</code></pre>
<h2 id="构造方法"><a href="#构造方法" class="headerlink" title="构造方法"></a>构造方法</h2><ul>
<li><code>public File(String pathname)</code> :通过将给定的路径名字符串转换为抽象路径名来创建新的 File实例。</li>
<li><code>public File(String parent, String child)</code> :从父路径名字符串和子路径名字符串创建新的 File实例。</li>
<li><code>public File(File parent, String child)</code> :从父抽象路径名和子路径名字符串创建新的 File实例。</li>
</ul>
<h2 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h2><ul>
<li>获取功能<ul>
<li><code>public String getAbsolutePath() </code>:返回此File的绝对路径名字符串。</li>
<li><code>public String getPath() </code>:将此File转换为路径名字符串。</li>
<li><code>public String getName()</code> :返回由此File表示的文件或目录的名称。</li>
<li><code>public long length() </code>:返回由此File表示的文件的长度。</li>
</ul>
</li>
<li>判断功能<ul>
<li><code>public boolean exists()</code> :此File表示的文件或目录是否实际存在。</li>
<li><code>public boolean isDirectory() </code>:此File表示的是否为目录。</li>
<li><code>public boolean isFile() </code>:此File表示的是否为文件。</li>
</ul>
</li>
<li>创建删除功能<ul>
<li><code>public boolean createNewFile()</code> :当且仅当具有该名称的文件尚不存在时,创建一个新的空文件。</li>
<li><code>public boolean delete()</code> :删除由此File表示的文件或目录。</li>
<li><code>public boolean mkdir()</code> :创建由此File表示的目录。</li>
<li><code>public boolean mkdirs()</code> :创建由此File表示的目录,包括任何必需但不存在的父目录。</li>
</ul>
</li>
<li>遍历功能<ul>
<li><code>public String[] list()</code>:返回一个String数组,表示该File目录中的所有子文件或目录。</li>
<li><code>public File[] listFiles() </code>:返回一个File数组,表示该File目录中的所有的子文件或目录。</li>
</ul>
</li>
</ul>
<h1 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h1><h2 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h2><pre><code class="java">public abstract class OutputStream implements Closeable, Flushable 
</code></pre>
<p><img src="1587621505650.png" alt="1587621505650"></p>
<p>它是个抽象类，提供的方法有：</p>
<ul>
<li><code>public void close()</code> :关闭此输出流并释放与此流相关联的任何系统资源。</li>
<li><code>public void flush()</code> :刷新此输出流并强制任何缓冲的输出字节被写出。</li>
<li><code>public void write(byte[] b)</code> :将 b.length字节从指定的字节数组写入此输出流。</li>
<li><code>public void write(byte[] b, int off, int len)</code>:从指定的字节数组写入 len字节,从偏移量 off开始输出到此输出流。</li>
<li><code>public abstract void write(int b)</code> :将指定的字节输出流。</li>
</ul>
<h3 id="FileOutputStream类"><a href="#FileOutputStream类" class="headerlink" title="FileOutputStream类"></a>FileOutputStream类</h3><p><code>OutputStream</code> 有很多子类,我们从最简单的一个子类开始。<code>java.io.FileOutputStream</code> 类是文件输出流,用于将数据写出到文件。</p>
<h4 id="构造方法-1"><a href="#构造方法-1" class="headerlink" title="构造方法"></a>构造方法</h4><ul>
<li><code>public FileOutputStream(File file)</code> :创建文件输出流以写入由指定的 File对象表示的文件。</li>
<li><code>public FileOutputStream(String name) </code>: 创建文件输出流以指定的名称写入文件。</li>
</ul>
<h4 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h4><ul>
<li>写出方法<ul>
<li><code>write(int b)</code>：每次可以写出一个字节数据</li>
<li><code>write(byte[] b)</code>：每次可以写出数组中的数据，使用<code>&quot;im String&quot;.getBytes()</code>转换为字节数组</li>
<li><code>write(byte[] b, int off, int len) </code>：写出指定长度字节数组，每次写出从off索引开始,len个字节。</li>
</ul>
</li>
<li>数据追加<ul>
<li><code>public FileOutputStream(File file, boolean append) </code>: 创建文件输出流以写入由指定的 File对象表示的文件。</li>
<li><code>public FileOutputStream(String name, boolean append)</code>: 创建文件输出流以指定的名称写入文件。</li>
</ul>
</li>
<li>写出换行<ul>
<li><code>fos.write(&quot;\r\n&quot;.getBytes());</code></li>
</ul>
</li>
</ul>
<h2 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h2><pre><code class="java">public abstract class InputStream implements Closeable
</code></pre>
<p><img src="1587622152213.png" alt="1587622152213"></p>
<p>它是个抽象类，提供的方法有：</p>
<ul>
<li><code>public void close() </code>:关闭此输入流并释放与此流相关联的任何系统资源。</li>
<li><code>public abstract int read() </code>: 从输入流读取数据的下一个字节。</li>
<li><code>public int read(byte[] b)</code> : 从输入流中读取一些字节数,并将它们存储到字节数组 b中 。</li>
</ul>
<h3 id="FileInputStream类"><a href="#FileInputStream类" class="headerlink" title="FileInputStream类"></a>FileInputStream类</h3><p><code>java.io.FileInputStream</code> 类是文件输入流,从文件中读取字节。</p>
<h4 id="构造方法-2"><a href="#构造方法-2" class="headerlink" title="构造方法"></a>构造方法</h4><ul>
<li><code>FileInputStream(File file)</code> : 通过打开与实际文件的连接来创建一个 <code>FileInputStream</code> ,该文件由文件系统中的 File对象 file命名。</li>
<li><code>FileInputStream(String name)</code> : 通过打开与实际文件的连接来创建一个 <code>FileInputStream</code> ,该文件由文件系统中的路径名 name命名。</li>
</ul>
<h4 id="常用方法-2"><a href="#常用方法-2" class="headerlink" title="常用方法"></a>常用方法</h4><ul>
<li><code>public int read()</code>:每次可以读取一个字节的数据,提升为int类型,读取到文件末尾,返回 -1</li>
<li><code>public int read(byte b[])</code>：每次读取b的长度个字节到数组中,返回读取到的有效字节个数,读取到末尾时,返回 -1</li>
</ul>
<h2 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h2><p>复制图片的小案例：</p>
<pre><code class="java">public class Copy &#123;
    public static void main(String[] args) throws IOException &#123;
        // 1.创建流对象
        // 1.1 指定数据源
        FileInputStream fis = new FileInputStream(&quot;D:\\test.jpg&quot;);
        // 1.2 指定目的地
        FileOutputStream fos = new FileOutputStream(&quot;test_copy.jpg&quot;);
        // 2.读写数据
        // 2.1 定义数组
        byte[] b = new byte[1024];
        // 2.2 定义长度
        int len;
        // 2.3 循环读取
        while ((len = fis.read(b))!=‐1) &#123;
            // 2.4 写出数据
            fos.write(b, 0 , len);
        &#125;
        // 3.关闭资源
        fos.close();
        fis.close();
    &#125;
&#125;
</code></pre>
<h1 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h1><h2 id="Writer"><a href="#Writer" class="headerlink" title="Writer"></a>Writer</h2><p><code>java.io.Writer</code> 抽象类是表示用于写出字符流的所有类的超类,将指定的字符信息写出到目的地。它定义了字节输出流的基本共性功能方法。</p>
<ul>
<li><code>void write(int c)</code> 写入单个字符。</li>
<li><code>void write(char[] cbuf)</code> 写入字符数组。</li>
<li><code>abstract void write(char[] cbuf, int off, int len)</code> 写入字符数组的某一部分,off数组的开始索引,len写的字符个数。</li>
<li><code>void write(String str) </code>写入字符串。</li>
<li><code>void write(String str, int off, int len)</code> 写入字符串的某一部分,off字符串的开始索引,len写的字符个数。</li>
<li><code>void flush() </code>刷新该流的缓冲。</li>
<li><code>void close()</code> 关闭此流,但要先刷新它。</li>
</ul>
<h3 id="FileWriter类"><a href="#FileWriter类" class="headerlink" title="FileWriter类"></a>FileWriter类</h3><p><code>java.io.FileWriter</code> 类是写出字符到文件的便利类。构造时使用系统默认的字符编码和默认字节缓冲区。</p>
<h4 id="构造方法-3"><a href="#构造方法-3" class="headerlink" title="构造方法"></a>构造方法</h4><ul>
<li><code>FileWriter(File file)</code> : 创建一个新的 FileWriter,给定要读取的File对象。</li>
<li><code>FileWriter(String fileName)</code> : 创建一个新的 FileWriter,给定要读取的文件的名称。</li>
</ul>
<h4 id="常用方法-3"><a href="#常用方法-3" class="headerlink" title="常用方法"></a>常用方法</h4><ul>
<li>写出方法<ul>
<li><code>write(int b)</code>：每次可以写出一个字符数据</li>
<li><code>write(char[] cbuf)</code>：每次可以写出字符数组中的数据，使用<code>&quot;我是超人&quot;.toCharArray()</code>转换为字节数组</li>
<li><code>write(char[] cbuf, int off, int len) </code>：写出指定长度字符数组，每次写出从off索引开始,len个字符</li>
<li><code>write(String str)</code>：写出字符串</li>
<li><code>write(String str, int off, int len)</code>：写出字符串，从off索引开始,len个字节</li>
</ul>
</li>
<li>数据追加<ul>
<li><code>public FileOutputStream(File file, boolean append) </code>: 创建文件输出流以写入由指定的 File对象表示的文件。</li>
<li><code>public FileOutputStream(String name, boolean append)</code>: 创建文件输出流以指定的名称写入文件。</li>
</ul>
</li>
</ul>
<h2 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h2><p><code>java.io.Reader</code> 抽象类是表示用于读取字符流的所有类的超类,可以读取字符信息到内存中。它定义了字符输入流的基本共性功能方法。</p>
<ul>
<li><code>public void close() </code>:关闭此流并释放与此流相关联的任何系统资源。</li>
<li><code>public int read() </code>: 从输入流读取一个字符。</li>
<li><code>public int read(char[] cbuf)</code> : 从输入流中读取一些字符,并将它们存储到字符数组 cbuf中 。</li>
</ul>
<h3 id="FileReader类"><a href="#FileReader类" class="headerlink" title="FileReader类"></a>FileReader类</h3><h4 id="构造方法-4"><a href="#构造方法-4" class="headerlink" title="构造方法"></a>构造方法</h4><ul>
<li><code>FileReader(File file)</code> : 创建一个新的 FileReader ,给定要读取的File对象。</li>
<li><code>FileReader(String fileName) </code>: 创建一个新的 FileReader ,给定要读取的文件的名称。</li>
</ul>
<h4 id="常用方法-4"><a href="#常用方法-4" class="headerlink" title="常用方法"></a>常用方法</h4><ul>
<li><code>public int read()</code>:每次可以读取一个字节的数据,提升为int类型,读取到文件末尾,返回 -1</li>
<li><code>public int read(char[] cbuf)</code>：每次读取b的长度个字节到数组中,返回读取到的有效字节个数,读取到末尾时,返回 -1</li>
</ul>
<h2 id="案例-1"><a href="#案例-1" class="headerlink" title="案例"></a>案例</h2><p>简单的RW操作</p>
<pre><code class="java">package com.company;

import java.io.FileReader;
import java.io.FileWriter;
import java.io.IOException;

public class Main &#123;

    public static void main(String[] args) throws IOException &#123;
        FileWriter writer = new FileWriter(&quot;a.txt&quot;);
        char[] chars = &quot;我是超人&quot;.toCharArray();
        writer.write(chars);
        writer.close();
        //------------
        FileReader reader = new FileReader(&quot;a.txt&quot;);
        int len;
        char[] cbuf = new char[3];
        while ((len = reader.read(cbuf))!=-1)&#123;
            System.out.println(new String(cbuf,0,len));
        &#125;
        reader.close();
    &#125;
&#125;
</code></pre>
<h1 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h1><p><strong>装饰者模式！</strong></p>
<h3 id="构造方法-5"><a href="#构造方法-5" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public BufferedInputStream(InputStream in)</code> :创建一个 新的缓冲输入流。</li>
<li><code>public BufferedOutputStream(OutputStream out) </code>: 创建一个新的缓冲输出流。</li>
<li><code>public BufferedReader(Reader in) </code>:创建一个 新的缓冲输入流。</li>
<li><code>public BufferedWriter(Writer out) </code>: 创建一个新的缓冲输出流。</li>
</ul>
<pre><code class="java">// 创建字节缓冲输入流
BufferedInputStream bis = new BufferedInputStream(new FileInputStream(&quot;bis.txt&quot;));
// 创建字节缓冲输出流
BufferedOutputStream bos = new BufferedOutputStream(new FileOutputStream(&quot;bos.txt&quot;));
</code></pre>
<pre><code class="java">// 创建字符缓冲输入流
BufferedReader br = new BufferedReader(new FileReader(&quot;br.txt&quot;));
// 创建字符缓冲输出流
BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;bw.txt&quot;));
</code></pre>
<h1 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h1><h2 id="InputStreamReader类"><a href="#InputStreamReader类" class="headerlink" title="InputStreamReader类"></a>InputStreamReader类</h2><p>转换流<code> java.io.InputStreamReader</code> ,是Reader的子类,是从字节流到字符流的桥梁。它读取字节,并使用指定的字符集将其解码为字符。它的字符集可以由名称指定,也可以接受平台的默认字符集。</p>
<h3 id="构造方法-6"><a href="#构造方法-6" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>InputStreamReader(InputStream in)</code> : 创建一个使用默认字符集的字符流。</li>
<li><code>InputStreamReader(InputStream in, String charsetName) </code>: 创建一个指定字符集的字符流。</li>
</ul>
<p>构造举例,代码如下:</p>
<pre><code class="java">InputStreamReader isr = new InputStreamReader(new FileInputStream(&quot;in.txt&quot;));
InputStreamReader isr2 = new InputStreamReader(new FileInputStream(&quot;in.txt&quot;) , &quot;GBK&quot;);
</code></pre>
<h2 id="OutputStreamWriter类"><a href="#OutputStreamWriter类" class="headerlink" title="OutputStreamWriter类"></a>OutputStreamWriter类</h2><p>转换流<code>java.io.OutputStreamWriter</code>,是Writer的子类,是从字符流到字节流的桥梁。使用指定的字符集将字符编码为字节。它的字符集可以由名称指定,也可以接受平台的默认字符集。</p>
<h3 id="构造方法-7"><a href="#构造方法-7" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>OutputStreamWriter(OutputStream in) </code>: 创建一个使用默认字符集的字符流。</li>
<li><code>OutputStreamWriter(OutputStream in, String charsetName)</code> : 创建一个指定字符集的字符流。</li>
</ul>
<p>构造举例,代码如下:</p>
<pre><code class="java">OutputStreamWriter isr = new OutputStreamWriter(new FileOutputStream(&quot;out.txt&quot;));
OutputStreamWriter isr2 = new OutputStreamWriter(new FileOutputStream(&quot;out.txt&quot;) , &quot;GBK&quot;);
</code></pre>
<h1 id="对象操作"><a href="#对象操作" class="headerlink" title="对象操作"></a>对象操作</h1><h2 id="ObjectOutputStream类"><a href="#ObjectOutputStream类" class="headerlink" title="ObjectOutputStream类"></a>ObjectOutputStream类</h2><p><code>java.io.ObjectOutputStream</code> 类,将Java对象的原始数据类型写出到文件,实现对象的持久存储。</p>
<h3 id="构造方法-8"><a href="#构造方法-8" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectOutputStream(OutputStream out) </code>: 创建一个指定OutputStream的ObjectOutputStream。</li>
</ul>
<h3 id="常用方法-5"><a href="#常用方法-5" class="headerlink" title="常用方法"></a>常用方法</h3><ul>
<li><code>public final void writeObject (Object obj)</code> : 将指定的对象写出。</li>
</ul>
<h2 id="ObjectInputStream类"><a href="#ObjectInputStream类" class="headerlink" title="ObjectInputStream类"></a>ObjectInputStream类</h2><h3 id="构造方法-9"><a href="#构造方法-9" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><code>public ObjectInputStream(InputStream in)</code> : 创建一个指定InputStream的ObjectInputStream。</li>
</ul>
<h3 id="常用方法-6"><a href="#常用方法-6" class="headerlink" title="常用方法"></a>常用方法</h3><ul>
<li><code>public final Object readObject () </code>: 读取一个对象。</li>
</ul>
<h2 id="反序列化失败"><a href="#反序列化失败" class="headerlink" title="反序列化失败"></a>反序列化失败</h2><p><strong>原因一：</strong></p>
<p>对于JVM可以反序列化对象,它必须是能够找到class文件的类。如果找不到该类的class文件,则抛出一个<code>ClassNotFoundException</code> 异常。</p>
<p><strong>原因二：</strong></p>
<p>另外,当JVM反序列化对象时,能找到class文件,但是class文件在序列化对象之后发生了修改,那么反序列化操作也会失败,抛出一个<code> InvalidClassException</code> 异常。发生这个异常的原因如下:</p>
<ol>
<li>该类的序列版本号与从流中读取的类描述符的版本号不匹配</li>
<li>该类包含未知数据类型</li>
<li>该类没有可访问的无参数构造方法</li>
</ol>
<p>Serializable 接口给需要序列化的类,提供了一个序列版本号。 <code>serialVersionUID</code> 该版本号的目的在于验证序<br>列化的对象和对应类是否版本匹配。</p>
<h2 id="案例-2"><a href="#案例-2" class="headerlink" title="案例"></a>案例</h2><ol>
<li>将存有多个自定义对象的集合序列化操作,保存到 list.txt 文件中。</li>
<li>反序列化 list.txt ,并遍历集合,打印对象信息。</li>
</ol>
<pre><code class="java">package com.company;

import java.io.Serializable;

public class Student implements Serializable &#123;

    private String name;
    private String pwd;

    public Student(String name, String pwd) &#123;
        this.name = name;
        this.pwd = pwd;
    &#125;

    public String getName() &#123;
        return name;
    &#125;

    public void setName(String name) &#123;
        this.name = name;
    &#125;

    public String getPwd() &#123;
        return pwd;
    &#125;

    public void setPwd(String pwd) &#123;
        this.pwd = pwd;
    &#125;
&#125;
</code></pre>
<pre><code class="java">package com.company;

import java.io.*;
import java.util.ArrayList;

public class Main &#123;
    public static void main(String[] args) throws Exception &#123;
        // 创建 学生对象
        Student student = new Student(&quot;老王&quot;, &quot;laow&quot;);
        Student student2 = new Student(&quot;老张&quot;, &quot;laoz&quot;);
        Student student3 = new Student(&quot;老李&quot;, &quot;laol&quot;);
        ArrayList&lt;Student&gt; arrayList = new ArrayList&lt;&gt;();
        arrayList.add(student);
        arrayList.add(student2);
        arrayList.add(student3);
        unSerializ();
    &#125;

    private static void serializ(ArrayList&lt;Student&gt; arrayList) throws IOException &#123;
        ObjectOutputStream oos = new ObjectOutputStream(new FileOutputStream(&quot;list.txt&quot;));
        oos.writeObject(arrayList);
    &#125;

    private static void unSerializ() throws IOException, ClassNotFoundException &#123;
        ObjectInputStream ois = new ObjectInputStream(new FileInputStream(&quot;list.txt&quot;));
        ArrayList&lt;Student&gt; list
            = (ArrayList&lt;Student&gt;)ois.readObject();
        for (int i = 0; i &lt; list.size(); i++ ) &#123;
            Student s = list.get(i);
            System.out.println(s.getName() + &quot;‐‐&quot; + s.getPwd());
        &#125;
    &#125;
&#125;
</code></pre>
<h1 id="网络操作"><a href="#网络操作" class="headerlink" title="网络操作"></a>网络操作</h1><p>Java 中的网络支持：</p>
<ul>
<li>InetAddress：用于表示网络上的硬件资源，即 IP 地址；</li>
<li>URL：统一资源定位符；</li>
<li>Sockets：使用 TCP 协议实现网络通信；</li>
<li>Datagram：使用 UDP 协议实现网络通信。</li>
</ul>
<h2 id="Socket类"><a href="#Socket类" class="headerlink" title="Socket类"></a>Socket类</h2><p>Socket 类:该类实现客户端套接字,套接字指的是两台设备之间通讯的端点。</p>
<h3 id="构造方法-10"><a href="#构造方法-10" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><p><code>public Socket(String host, int port)</code> :创建套接字对象并将其连接到指定主机上的指定端口号。如果指定的host是null ,则相当于指定地址为回送地址。</p>
<blockquote>
<p>回送地址(127.x.x.x) 是本机回送地址(Loopback Address),主要用于网络软件测试以及本地机进程间通信,无论什么程序,一旦使用回送地址发送数据,立即返回,不进行任何网络传输。</p>
</blockquote>
</li>
</ul>
<h3 id="常用方法-7"><a href="#常用方法-7" class="headerlink" title="常用方法"></a>常用方法</h3><ul>
<li><code>public InputStream getInputStream() </code>: 返回此套接字的输入流。<ul>
<li>如果此Scoket具有相关联的通道,则生成的InputStream 的所有操作也关联该通道。</li>
<li>关闭生成的InputStream也将关闭相关的Socket。</li>
</ul>
</li>
<li><code>public OutputStream getOutputStream() </code>: 返回此套接字的输出流。<ul>
<li>如果此Scoket具有相关联的通道,则生成的OutputStream 的所有操作也关联该通道。</li>
<li>关闭生成的OutputStream也将关闭相关的Socket。</li>
</ul>
</li>
<li><code>public void close()</code> :关闭此套接字。<ul>
<li>一旦一个socket被关闭,它不可再使用。</li>
<li>关闭此socket也将关闭相关的InputStream和OutputStream 。</li>
</ul>
</li>
<li><code>public void shutdownOutput()</code> : 禁用此套接字的输出流。 <ul>
<li>任何先前写出的数据将被发送,随后终止输出流。</li>
</ul>
</li>
</ul>
<h2 id="ServerSocket类"><a href="#ServerSocket类" class="headerlink" title="ServerSocket类"></a>ServerSocket类</h2><p>ServerSocket 类:这个类实现了服务器套接字,该对象等待通过网络的请求。</p>
<h3 id="构造方法-11"><a href="#构造方法-11" class="headerlink" title="构造方法"></a>构造方法</h3><ul>
<li><p><code>public ServerSocket(int port)</code> :使用该构造方法在创建ServerSocket对象时,就可以将其绑定到一个指定的端口号上,参数port就是端口号。</p>
<p><code>ServerSocket server = new ServerSocket(6666);</code></p>
</li>
</ul>
<h3 id="成员方法"><a href="#成员方法" class="headerlink" title="成员方法"></a>成员方法</h3><p><code>public Socket accept() </code>:侦听并接受连接,返回一个新的Socket对象,用于和客户端实现通信。该方法会一直阻塞直到建立连接。</p>
<h2 id="案例-3"><a href="#案例-3" class="headerlink" title="案例"></a>案例</h2><p>相互通信：</p>
<pre><code class="java">public class ServerTCP &#123;
    public static void main(String[] args) throws IOException &#123;
        System.out.println(&quot;服务端启动 , 等待连接 .... &quot;);
        // 1.创建 ServerSocket对象,绑定端口,开始等待连接
        ServerSocket ss = new ServerSocket(6666);
        // 2.接收连接 accept 方法, 返回 socket 对象.
        Socket server = ss.accept();
        // 3.通过socket 获取输入流
        InputStream is = server.getInputStream();
        // 4.一次性读取数据
        // 4.1 创建字节数组
        byte[] b = new byte[1024];
        // 4.2 据读取到字节数组中.
        int len = is.read(b);
        // 4.3 解析数组,打印字符串信息
        String msg = new String(b, 0, len);
        System.out.println(msg);
        // =================回写数据=======================
        // 5. 通过 socket 获取输出流
        OutputStream out = server.getOutputStream();
        // 6. 回写数据
        out.write(&quot;我很好,谢谢你&quot;.getBytes());
        // 7.关闭资源.
        out.close();
        is.close();
        server.close();
    &#125;
&#125;
</code></pre>
<pre><code class="java">public class ClientTCP &#123;
    public static void main(String[] args) throws Exception &#123;
        System.out.println(&quot;客户端 发送数据&quot;);
        // 1.创建 Socket ( ip , port ) , 确定连接到哪里.
        Socket client = new Socket(&quot;localhost&quot;, 6666);
        // 2.通过Scoket,获取输出流对象
        OutputStream os = client.getOutputStream();
        // 3.写出数据.
        os.write(&quot;你好么? tcp ,我来了&quot;.getBytes());
        // ==============解析回写=========================
        // 4. 通过Scoket,获取 输入流对象
        InputStream in = client.getInputStream();
        // 5. 读取数据数据
        byte[] b = new byte[100];
        int len = in.read(b);
        System.out.println(new String(b, 0, len));
        // 6. 关闭资源 .
        in.close();
        os.close();
        client.close();
    &#125;
&#125;
</code></pre>
<h1 id="新的输入-输出：BIO-NIO-AIO"><a href="#新的输入-输出：BIO-NIO-AIO" class="headerlink" title="新的输入/输出：BIO,NIO,AIO"></a>新的输入/输出：BIO,NIO,AIO</h1>
    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/04/18/headFirstJava%E7%AC%94%E8%AE%B0/" rel="prev" title="headFirstJava笔记">
      <i class="fa fa-chevron-left"></i> headFirstJava笔记
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/20/Java%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B%E4%B9%8B%E7%BE%8E/" rel="next" title="Java并发编程之美">
      Java并发编程之美 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%A3%81%E7%9B%98%E6%93%8D%E4%BD%9C"><span class="nav-text">磁盘操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="nav-text">常用方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#OutputStream"><span class="nav-text">OutputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FileOutputStream%E7%B1%BB"><span class="nav-text">FileOutputStream类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-1"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-1"><span class="nav-text">常用方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#InputStream"><span class="nav-text">InputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FileInputStream%E7%B1%BB"><span class="nav-text">FileInputStream类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-2"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-2"><span class="nav-text">常用方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B"><span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Writer"><span class="nav-text">Writer</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FileWriter%E7%B1%BB"><span class="nav-text">FileWriter类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-3"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-3"><span class="nav-text">常用方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Reader"><span class="nav-text">Reader</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#FileReader%E7%B1%BB"><span class="nav-text">FileReader类</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-4"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-4"><span class="nav-text">常用方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-1"><span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81"><span class="nav-text">缓冲流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-5"><span class="nav-text">构造方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="nav-text">转换流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#InputStreamReader%E7%B1%BB"><span class="nav-text">InputStreamReader类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-6"><span class="nav-text">构造方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OutputStreamWriter%E7%B1%BB"><span class="nav-text">OutputStreamWriter类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-7"><span class="nav-text">构造方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E6%93%8D%E4%BD%9C"><span class="nav-text">对象操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ObjectOutputStream%E7%B1%BB"><span class="nav-text">ObjectOutputStream类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-8"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-5"><span class="nav-text">常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ObjectInputStream%E7%B1%BB"><span class="nav-text">ObjectInputStream类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-9"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-6"><span class="nav-text">常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%A4%B1%E8%B4%A5"><span class="nav-text">反序列化失败</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-2"><span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C"><span class="nav-text">网络操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Socket%E7%B1%BB"><span class="nav-text">Socket类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-10"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-7"><span class="nav-text">常用方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ServerSocket%E7%B1%BB"><span class="nav-text">ServerSocket类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-11"><span class="nav-text">构造方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95"><span class="nav-text">成员方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B-3"><span class="nav-text">案例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%96%B0%E7%9A%84%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA%EF%BC%9ABIO-NIO-AIO"><span class="nav-text">新的输入&#x2F;输出：BIO,NIO,AIO</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="摘星"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">摘星</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">241</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">139</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zhangkexuan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhangkexuan" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/kexuan_zhang@qq.com" title="E-Mail → kexuan_zhang@qq.com"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">摘星</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>

<!-- ҳ����С���� -->
<script type="text/javascript" src="/js/clicklove.js"></script>
