<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="在入门案例的基础上，进一步学习参数的绑定和注解！">
<meta property="og:type" content="article">
<meta property="og:title" content="springMVC#2-入门分析和参数绑定">
<meta property="og:url" content="http://yoursite.com/2020/04/17/springMVC-2-%E5%85%A5%E9%97%A8%E5%88%86%E6%9E%90%E5%92%8C%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A/index.html">
<meta property="og:site_name" content="摘星">
<meta property="og:description" content="在入门案例的基础上，进一步学习参数的绑定和注解！">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/04/17/springMVC-2-%E5%85%A5%E9%97%A8%E5%88%86%E6%9E%90%E5%92%8C%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A/20200424000509.jpg">
<meta property="article:published_time" content="2020-04-16T16:45:51.000Z">
<meta property="article:modified_time" content="2021-05-19T02:21:48.833Z">
<meta property="article:author" content="摘星">
<meta property="article:tag" content="java">
<meta property="article:tag" content="springMVC">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/04/17/springMVC-2-%E5%85%A5%E9%97%A8%E5%88%86%E6%9E%90%E5%92%8C%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A/20200424000509.jpg">

<link rel="canonical" href="http://yoursite.com/2020/04/17/springMVC-2-%E5%85%A5%E9%97%A8%E5%88%86%E6%9E%90%E5%92%8C%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>springMVC#2-入门分析和参数绑定 | 摘星</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">摘星</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/04/17/springMVC-2-%E5%85%A5%E9%97%A8%E5%88%86%E6%9E%90%E5%92%8C%E5%8F%82%E6%95%B0%E7%BB%91%E5%AE%9A/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="摘星">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="摘星">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          springMVC#2-入门分析和参数绑定
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-04-17 00:45:51" itemprop="dateCreated datePublished" datetime="2020-04-17T00:45:51+08:00">2020-04-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/spring/" itemprop="url" rel="index"><span itemprop="name">spring</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>在入门案例的基础上，进一步学习参数的绑定和注解！</p>
<span id="more"></span>

<h1 id="入门分析"><a href="#入门分析" class="headerlink" title="入门分析"></a>入门分析</h1><p>先看看springMVC的流程：</p>
<p><img src="20200424000509.jpg" alt="1587378655375"></p>
<ol>
<li>服务器启动，首先是读取web.xml文件，我们应该加载各种配置文件。web.xml中说明了<code>servlet</code>的配置。</li>
<li>但<code>servlet</code>想要运行起来，我们使用了注解，还需要适当的依赖注入，这时就必须读取springMVC的配置文件。这一步也应该在<code>web.xml</code>中初始化配置。</li>
<li>浏览器发送请求,被<code> DispatherServlet</code> 捕获,该 Servlet 并不处理请求,而是把请求转发出去。转发的路径是根据请求 URL,匹配<code>@RequestMapping</code> 中的内容。</li>
<li>匹配到了后,执行对应方法。该方法有一个返回值。根据方法的返回值,借助 <code>InternalResourceViewResolver</code> 找到对应的结果视图。</li>
<li><code>InternalResourceViewResolver</code>的配置也应该在<code>springMVC.xml</code>中.</li>
</ol>
<h1 id="相关组件"><a href="#相关组件" class="headerlink" title="相关组件"></a>相关组件</h1><h2 id="DispatcherServlet-前端控制器"><a href="#DispatcherServlet-前端控制器" class="headerlink" title="DispatcherServlet:前端控制器"></a>DispatcherServlet:前端控制器</h2><p>用户请求到达前端控制器,它就相当于 mvc 模式中的c,<code>dispatcherServlet</code> 是整个流程控制的中心,由它调用其它组件处理用户的请求,<code>dispatcherServlet </code>的存在降低了组件之间的耦合性。</p>
<h2 id="HandlerMapping-处理器映射器"><a href="#HandlerMapping-处理器映射器" class="headerlink" title="HandlerMapping:处理器映射器"></a>HandlerMapping:处理器映射器</h2><p><code>HandlerMapping </code>负责根据用户请求找到 Handler 即处理器,SpringMVC 提供了不同的映射器实现不同的映射方式,例如:配置文件方式,实现接口方式,注解方式等。</p>
<h2 id="Handler-处理器"><a href="#Handler-处理器" class="headerlink" title="Handler:处理器"></a>Handler:处理器</h2><p>它就是我们开发中要编写的具体业务控制器。由 <code>DispatcherServlet </code>把用户请求转发到 Handler。由<code>Handler </code>对具体的用户请求进行处理。</p>
<h2 id="HandlAdapter-处理器适配器"><a href="#HandlAdapter-处理器适配器" class="headerlink" title="HandlAdapter:处理器适配器"></a>HandlAdapter:处理器适配器</h2><p>通过 <code>HandlerAdapter</code> 对处理器进行执行,这是适配器模式的应用,通过扩展适配器可以对更多类型的处理器进行执行。</p>
<h2 id="View-Resolver-视图解析器"><a href="#View-Resolver-视图解析器" class="headerlink" title="View Resolver:视图解析器"></a>View Resolver:视图解析器</h2><p><code>View Resolver </code>负责将处理结果生成 <code>View</code> 视图,<code>View Resolver </code>首先根据逻辑视图名解析成物理视图名即具体的页面地址,再生成 View 视图对象,最后对 View 进行渲染将处理结果通过页面展示给用户。</p>
<h2 id="View-视图"><a href="#View-视图" class="headerlink" title="View:视图"></a>View:视图</h2><p>SpringMVC 框架提供了很多的 View 视图类型的支持,包括:<code>jstlView</code>、<code>freemarkerView</code>、<code>pdfView</code>等。我们最常用的视图就是 <code>jsp</code>。一般情况下需要通过页面标签或页面模版技术将模型数据通过页面展示给用户,需要由程序员根据业务需求开发具体的页面。</p>
<h2 id="mvc-annotation-driven"><a href="#mvc-annotation-driven" class="headerlink" title="mvc:annotation-driven"></a>mvc:annotation-driven</h2><p>在 SpringMVC 的各个组件中,处理器映射器、处理器适配器、视图解析器称为 SpringMVC 的三大组件。使 用 <code>&lt;mvc:annotation-driven&gt; </code>自 动 加 载 <code>RequestMappingHandlerMapping</code> ( 处 理 映 射 器 ) 和<code>RequestMappingHandlerAdapter</code> ( 处 理 适 配 器 ) , 可 用 在 <code>SpringMVC.xml </code>配 置 文 件 中 使 用<code>&lt;mvc:annotation-driven&gt;</code>替代注解处理器和适配器的配置。</p>
<p>相当于在springMVC中配置了：</p>
<pre><code class="xml">&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;/&gt;
&lt;bean class=&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;/&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;/&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter&quot;/&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;/&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver&quot;/&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver&quot;/&gt;
&lt;bean class=&quot;org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver&quot;/&gt;
</code></pre>
<h1 id="RequestMapping-注解"><a href="#RequestMapping-注解" class="headerlink" title="RequestMapping 注解"></a>RequestMapping 注解</h1><h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><p><strong>源码：</strong></p>
<pre><code class="java">package org.springframework.web.bind.annotation;

import java.lang.annotation.Documented;
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

import org.springframework.core.annotation.AliasFor;

@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Mapping
public @interface RequestMapping &#123;

    String name() default &quot;&quot;;

    @AliasFor(&quot;path&quot;)
    String[] value() default &#123;&#125;;

    @AliasFor(&quot;value&quot;)
    String[] path() default &#123;&#125;;

    RequestMethod[] method() default &#123;&#125;;

    String[] params() default &#123;&#125;;

    String[] headers() default &#123;&#125;;

    String[] consumes() default &#123;&#125;;

    String[] produces() default &#123;&#125;;
&#125;
</code></pre>
<p><strong>作用:</strong><br>    用于建立请求 URL 和处理请求方法之间的对应关系。</p>
<p><strong>出现位置:</strong></p>
<ul>
<li>类上<ul>
<li>请求 URL 的第一级访问目录。此处不写的话,就相当于应用的根目录。写的话需要以/开头。</li>
<li>它出现的目的是为了使我们的 URL 可以按照模块化管理</li>
</ul>
</li>
<li>方法上<ul>
<li>请求 URL 的第二级访问目录</li>
</ul>
</li>
</ul>
<p><strong>属性:</strong></p>
<ul>
<li><p>value</p>
<ul>
<li>用于指定请求的 URL,它和 path 属性的作用是一样的。</li>
</ul>
</li>
<li><p>method</p>
<ul>
<li>用于指定请求的方式。</li>
</ul>
</li>
<li><p>params</p>
<ul>
<li><p>用于指定限制请求参数的条件。它支持简单的表达式。要求请求参数的 key 和 value 必须和配置的一模一样。</p>
<ul>
<li>params = {“accountName”},表示请求参数必须有 accountName</li>
<li>params = {“moeny!100”},表示请求参数中 money 不能是 100。</li>
</ul>
</li>
</ul>
</li>
<li><p>headers</p>
<ul>
<li>用于指定限制请求消息头的条件。</li>
</ul>
</li>
</ul>
<p><strong>注意:以上四个属性只要出现 2 个或以上时,他们的关系是与的关系。</strong></p>
<h2 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h2><h3 id="出现位置示例："><a href="#出现位置示例：" class="headerlink" title="出现位置示例："></a>出现位置示例：</h3><pre><code class="java">package uestc.zhangkx.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

/** Ac测试
 * @author zhangkx
 */
@Controller
@RequestMapping(&quot;/account&quot;)
public class AccountController &#123;

    @RequestMapping(&quot;/save&quot;)
    public String saveAccount()&#123;
        System.out.println(&quot;保存了account!&quot;);
        return &quot;success&quot;;
    &#125;
&#125;
</code></pre>
<h3 id="method属性示例"><a href="#method属性示例" class="headerlink" title="method属性示例:"></a><strong>method属性示例:</strong></h3><pre><code class="JAVA">package uestc.zhangkx.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

/** Ac测试
 * @author zhangkx
 */
@Controller
@RequestMapping(value = &quot;/account&quot;,method = RequestMethod.POST)
public class AccountController &#123;

    @RequestMapping(&quot;/save&quot;)
    public String saveAccount()&#123;
        System.out.println(&quot;保存了account!&quot;);
        return &quot;success&quot;;
    &#125;
&#125;
</code></pre>
<h3 id="params-属性示例"><a href="#params-属性示例" class="headerlink" title="params 属性示例:"></a>params 属性示例:</h3><pre><code class="java">package uestc.zhangkx.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;

/** Ac测试
 * @author zhangkx
 */
@Controller
@RequestMapping(value = &quot;/account&quot;)
public class AccountController &#123;

    @RequestMapping(&quot;find&quot;)
    public String findAccount()&#123;
        System.out.println(&quot;找到了account!!!&quot;);
        return &quot;success&quot;;
    &#125;

    @RequestMapping(value = &quot;/save&quot; , method = RequestMethod.POST)
    public String saveAccount()&#123;
        System.out.println(&quot;保存了account!&quot;);
        return &quot;success&quot;;
    &#125;

    @RequestMapping(value = &quot;/delete&quot;,params = &#123;&quot;accountName&quot;,&quot;money&gt;100&quot;&#125;)
    public String deleteAccount()&#123;
        System.out.println(&quot;删除了account!!!&quot;);
        return &quot;success&quot;;
    &#125;
&#125;
</code></pre>
<h1 id="请求参数的绑定"><a href="#请求参数的绑定" class="headerlink" title="请求参数的绑定"></a>请求参数的绑定</h1><h2 id="绑定说明"><a href="#绑定说明" class="headerlink" title="绑定说明"></a>绑定说明</h2><h3 id="绑定的机制"><a href="#绑定的机制" class="headerlink" title="绑定的机制"></a>绑定的机制</h3><p>我们都知道,表单中请求参数都是基于 key=value 的。<br>SpringMVC 绑定请求参数的过程是通过把表单提交请求参数,作为控制器中方法参数进行绑定的。</p>
<pre><code class="html">&lt;a href=&quot;account/findAccount?accountId=10&quot;&gt;查询账户&lt;/a&gt;
</code></pre>
<p>上述提交可对应绑定至-&gt;</p>
<pre><code class="java">@RequestMapping(&quot;/findAccount&quot;)
public String findAccount(Integer accountId) &#123;
    System.out.println(&quot;查询了账户。。。。&quot;+accountId);
    return &quot;success&quot;;
&#125;
</code></pre>
<h3 id="支持的数据类型"><a href="#支持的数据类型" class="headerlink" title="支持的数据类型"></a>支持的数据类型</h3><ul>
<li>基本类型参数:<ul>
<li>包括基本类型和 String 类型</li>
</ul>
</li>
<li>POJO 类型参数:<ul>
<li>包括实体类,以及关联的实体类</li>
</ul>
</li>
<li>数组和集合类型参数:<ul>
<li>包括 List 结构和 Map 结构的集合(包括数组)</li>
</ul>
</li>
</ul>
<p>SpringMVC 绑定请求参数是自动实现的,但是要想使用,必须遵循使用要求。</p>
<h3 id="使用要求"><a href="#使用要求" class="headerlink" title="使用要求"></a>使用要求</h3><ul>
<li><p>如果是基本类型或者 String 类型:</p>
<ul>
<li>要求我们的参数名称必须和控制器中方法的形参名称保持一致。(严格区分大小写)</li>
</ul>
</li>
<li><p>如果是 POJO 类型,或者它的关联对象:</p>
<ul>
<li>要求表单中参数名称和 POJO 类的属性名称保持一致。并且控制器方法的参数类型是 POJO 类型。</li>
</ul>
</li>
<li><p>如果是集合类型,有两种方式:</p>
<ul>
<li><p>第一种:</p>
<ul>
<li><p>要求集合类型的请求参数必须在 POJO 中</p>
</li>
<li><p>在表单中请求参数名称要和 POJO 中集合属性名称相同。</p>
</li>
<li><p>给 List 集合中的元素赋值,使用下标。</p>
</li>
<li><p>给 Map 集合中的元素赋值,使用键值对。</p>
</li>
</ul>
</li>
<li><p>第二种: </p>
<ul>
<li>接收的请求参数是 json 格式数据。需要借助一个注解实现。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><strong>注意:它还可以实现一些数据类型自动转换。内置转换器有</strong></p>
<p><code>org.springframework.core.convert.support</code> 包下。有:</p>
<pre><code>java.lang.Boolean -&gt; java.lang.String : ObjectToStringConverter
java.lang.Character -&gt; java.lang.Number : CharacterToNumberFactory
java.lang.Character -&gt; java.lang.String : ObjectToStringConverter
java.lang.Enum -&gt; java.lang.String : EnumToStringConverter
java.lang.Number -&gt; java.lang.Character : NumberToCharacterConverter
java.lang.Number -&gt; java.lang.Number : NumberToNumberConverterFactory
java.lang.Number -&gt; java.lang.String : ObjectToStringConverter
java.lang.String -&gt; java.lang.Boolean : StringToBooleanConverter
java.lang.String -&gt; java.lang.Character : StringToCharacterConverter
java.lang.String -&gt; java.lang.Enum : StringToEnumConverterFactory
java.lang.String -&gt; java.lang.Number : StringToNumberConverterFactory
java.lang.String -&gt; java.util.Locale : StringToLocaleConverter
java.lang.String -&gt; java.util.Properties : StringToPropertiesConverter
java.lang.String -&gt; java.util.UUID : StringToUUIDConverter
java.util.Locale -&gt; java.lang.String : ObjectToStringConverter
java.util.Properties -&gt; java.lang.String : PropertiesToStringConverter
java.util.UUID -&gt; java.lang.String : ObjectToStringConverter
</code></pre>
<h2 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h2><h3 id="基本类型和-String-类型作为参数"><a href="#基本类型和-String-类型作为参数" class="headerlink" title="基本类型和 String 类型作为参数"></a>基本类型和 String 类型作为参数</h3><pre><code class="html">&lt;a href=&quot;account/findAccount?accountId=10&amp;accountName=zhangsan&quot;&gt;查询账户&lt;/a&gt;
</code></pre>
<pre><code class="java">@RequestMapping(&quot;/findAccount&quot;)
public String findAccount(Integer accountId,String accountName) &#123;
    System.out.println(&quot;查询了账户。。。。&quot;+accountId+&quot;,&quot;+accountName);
return &quot;success&quot;;
&#125;
</code></pre>
<h3 id="POJO-类型作为参数"><a href="#POJO-类型作为参数" class="headerlink" title="POJO 类型作为参数"></a>POJO 类型作为参数</h3><pre><code class="java">public class Account implements Serializable &#123;
    private Integer id;
    private String name;
    private Float money;
    private Address address;
    //getters and setters
&#125;
//~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
public class Address implements Serializable &#123;
    private String provinceName;
    private String cityName;
    //getters and setters
&#125;
</code></pre>
<pre><code class="html">&lt;form action=&quot;account/saveAccount&quot; method=&quot;post&quot;&gt;
    账户名称:&lt;input type=&quot;text&quot; name=&quot;name&quot; &gt;&lt;br/&gt;
    账户金额:&lt;input type=&quot;text&quot; name=&quot;money&quot; &gt;&lt;br/&gt;
    账户省份:&lt;input type=&quot;text&quot; name=&quot;address.provinceName&quot; &gt;&lt;br/&gt;
    账户城市:&lt;input type=&quot;text&quot; name=&quot;address.cityName&quot; &gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot; 保存 &quot;&gt;
&lt;/form&gt;
</code></pre>
<pre><code class="java">@RequestMapping(&quot;/saveAccount&quot;)
public String saveAccount(Account account) &#123;
    System.out.println(&quot;保存了账户。。。。&quot;+account);
    return &quot;success&quot;;
&#125;
</code></pre>
<h3 id="POJO-类中包含集合类型参数"><a href="#POJO-类中包含集合类型参数" class="headerlink" title="POJO 类中包含集合类型参数"></a>POJO 类中包含集合类型参数</h3><pre><code class="java">public class User implements Serializable &#123;
    private String username;
    private String password;
    private Integer age;
    private List&lt;Account&gt; accounts;
    private Map&lt;String,Account&gt; accountMap;
    //getters and setters
    @Override
    public String toString() &#123;
        return &quot;User [username=&quot; + username + &quot;, password=&quot; + password + &quot;, age=&quot;
            + age + &quot;,\n accounts=&quot; + accounts
            + &quot;,\n accountMap=&quot; + accountMap + &quot;]&quot;;
    &#125;
&#125;
</code></pre>
<pre><code class="html">&lt;form action=&quot;account/updateAccount&quot; method=&quot;post&quot;&gt;
    用户名称:&lt;input type=&quot;text&quot; name=&quot;username&quot; &gt;&lt;br/&gt;
    用户密码:&lt;input type=&quot;password&quot; name=&quot;password&quot; &gt;&lt;br/&gt;
    用户年龄:&lt;input type=&quot;text&quot; name=&quot;age&quot; &gt;&lt;br/&gt;
    账户 1 名称:&lt;input type=&quot;text&quot; name=&quot;accounts[0].name&quot; &gt;&lt;br/&gt;
    账户 1 金额:&lt;input type=&quot;text&quot; name=&quot;accounts[0].money&quot; &gt;&lt;br/&gt;
    账户 2 名称:&lt;input type=&quot;text&quot; name=&quot;accounts[1].name&quot; &gt;&lt;br/&gt;
    账户 2 金额:&lt;input type=&quot;text&quot; name=&quot;accounts[1].money&quot; &gt;&lt;br/&gt;
    账户 3 名称:&lt;input type=&quot;text&quot; name=&quot;accountMap[&#39;one&#39;].name&quot; &gt;&lt;br/&gt;
    账户 3 金额:&lt;input type=&quot;text&quot; name=&quot;accountMap[&#39;one&#39;].money&quot; &gt;&lt;br/&gt;
    账户 4 名称:&lt;input type=&quot;text&quot; name=&quot;accountMap[&#39;two&#39;].name&quot; &gt;&lt;br/&gt;
    账户 4 金额:&lt;input type=&quot;text&quot; name=&quot;accountMap[&#39;two&#39;].money&quot; &gt;&lt;br/&gt;
    &lt;input type=&quot;submit&quot; value=&quot; 保存 &quot;&gt;
&lt;/form&gt;
</code></pre>
<pre><code class="java">@RequestMapping(&quot;/updateAccount&quot;)
public String updateAccount(User user) &#123;
    System.out.println(&quot;更新了账户。。。。&quot;+user);
    return &quot;success&quot;;
&#125;
</code></pre>
<h2 id="请求参数乱码问题"><a href="#请求参数乱码问题" class="headerlink" title="请求参数乱码问题"></a>请求参数乱码问题</h2><p>tomacat 对 GET 和 POST 请求处理方式是不同的</p>
<h3 id="POST"><a href="#POST" class="headerlink" title="POST"></a>POST</h3><p>在 web.xml 中配置一个过滤器：</p>
<pre><code class="XML">&lt;!-- 配置 springMVC 编码过滤器 --&gt;
&lt;filter&gt;
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
    &lt;filter-class&gt;
        org.springframework.web.filter.CharacterEncodingFilter
    &lt;/filter-class&gt;
    &lt;!-- 设置过滤器中的属性值 --&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;encoding&lt;/param-name&gt;
        &lt;param-value&gt;UTF-8&lt;/param-value&gt;
    &lt;/init-param&gt;
    &lt;!-- 启动过滤器 --&gt;
    &lt;init-param&gt;
        &lt;param-name&gt;forceEncoding&lt;/param-name&gt;
        &lt;param-value&gt;true&lt;/param-value&gt;
    &lt;/init-param&gt;
&lt;/filter&gt;
&lt;!-- 过滤所有请求 --&gt;
&lt;filter-mapping&gt;
    &lt;filter-name&gt;CharacterEncodingFilter&lt;/filter-name&gt;
    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
&lt;/filter-mapping&gt;
</code></pre>
<p><strong>在 springmvc 的配置文件中可以配置,静态资源不过滤</strong></p>
<pre><code class="XML">&lt;!-- location 表示路径,mapping 表示文件,**表示该目录下的文件以及子目录的文件 --&gt;
&lt;mvc:resources location=&quot;/css/&quot; mapping=&quot;/css/**&quot;/&gt;
&lt;mvc:resources location=&quot;/images/&quot; mapping=&quot;/images/**&quot;/&gt;
&lt;mvc:resources location=&quot;/scripts/&quot; mapping=&quot;/javascript/**&quot;/&gt;
</code></pre>
<h3 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h3><p>GET 请求的编码问题,要改 tomcat 的 server.xml配置文件：</p>
<pre><code class="XML">&lt;Connector connectionTimeout=&quot;20000&quot;
           port=&quot;8080&quot;
           protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;/&gt;
改为:
&lt;Connector connectionTimeout=&quot;20000&quot;
           port=&quot;8080&quot;
           protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8443&quot;
           useBodyEncodingForURI=&quot;true&quot;/&gt;
</code></pre>
<p>如果遇到 ajax 请求仍然乱码,请把:</p>
<pre><code class="XML">useBodyEncodingForURI=&quot;true&quot;
改为
URIEncoding=&quot;UTF-8&quot;
</code></pre>
<h2 id="特殊情况"><a href="#特殊情况" class="headerlink" title="特殊情况"></a>特殊情况</h2><h3 id="自定义类型转换器"><a href="#自定义类型转换器" class="headerlink" title="自定义类型转换器"></a>自定义类型转换器</h3><p>例如日期类型，一般就需要转换</p>
<pre><code class="html">&lt;!-- 特殊情况之:类型转换问题 --&gt;
&lt;a href=&quot;account/deleteAccount?date=2018-01-01&quot;&gt;根据日期删除账户&lt;/a&gt;
</code></pre>
<pre><code class="java">@RequestMapping(&quot;/deleteAccount&quot;)
public String deleteAccount(String date) &#123;
    System.out.println(&quot;删除了账户。。。。&quot;+date);
    return &quot;success&quot;;
&#125;
</code></pre>
<p>当我们把参数改为Data类型时，就无法运行了，会抛出<code>MethodArgumentTypeMismatchException</code>，这时，需要使用类型转换器。</p>
<pre><code class="java">package uestc.zhangkx.utils;

import org.springframework.core.convert.converter.Converter;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 * 把字符串转换日期
 */
public class StringToDateConverter implements Converter&lt;String,Date&gt;&#123;

    /**
     * String source    传入进来字符串
     * @param source
     * @return
     */
    public Date convert(String source) &#123;
        // 判断
        if(source == null)&#123;
            throw new RuntimeException(&quot;请您传入数据&quot;);
        &#125;
        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);

        try &#123;
            // 把字符串转换日期
            return df.parse(source);
        &#125; catch (Exception e) &#123;
            throw new RuntimeException(&quot;数据类型转换出现错误&quot;);
        &#125;
    &#125;
&#125;
</code></pre>
<p>创造了转换器，还需要讲这个转化器配置一下：</p>
<pre><code class="xml">&lt;!-- 注册自定义类型转换器 --&gt;
&lt;bean id=&quot;conversionService&quot;
      class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;
    &lt;property name=&quot;converters&quot;&gt;
        &lt;set&gt;
            &lt;bean class=&quot;uestc.zhangkx.utils.StringToDateConverter&quot;/&gt;
        &lt;/set&gt;
    &lt;/property&gt;
&lt;/bean&gt;
&lt;!-- 开启Spring对MVC注解的支持 --&gt;
&lt;mvc:annotation-driven conversion-service=&quot;conversionService&quot;/&gt;
</code></pre>
<h1 id="综合案例"><a href="#综合案例" class="headerlink" title="综合案例"></a>综合案例</h1><h2 id="web"><a href="#web" class="headerlink" title="web"></a>web</h2><pre><code class="jsp">&lt;%--
Created by IntelliJ IDEA.
User: zhangkx
Date: 2020/4/20
Time: 下午6:10
To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;入门&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;输入信息&lt;/h1&gt;
        &lt;form action=&quot;account/get&quot; method=&quot;post&quot;&gt;
            名字：&lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;&lt;br&gt;
            年龄：&lt;input type=&quot;text&quot; name=&quot;age&quot;/&gt;&lt;br&gt;
            生日：&lt;input type=&quot;text&quot; name=&quot;birthday&quot;/&gt;&lt;br&gt;
            钱包号码：&lt;input type=&quot;text&quot; name=&quot;pocket.id&quot;/&gt;&lt;br&gt;
            钱包金额：&lt;input type=&quot;text&quot; name=&quot;pocket.money&quot;/&gt;&lt;br&gt;
            list1代号：&lt;input type=&quot;text&quot; name=&quot;pocket.list[0]&quot;/&gt;&lt;br&gt;
            list2代号：&lt;input type=&quot;text&quot; name=&quot;pocket.list[1]&quot;/&gt;&lt;br&gt;
            map1：&lt;input type=&quot;text&quot; name=&quot;pocket.map[&#39;one&#39;]&quot;/&gt;&lt;br&gt;
            map2：&lt;input type=&quot;text&quot; name=&quot;pocket.map[&#39;two&#39;]&quot;/&gt;&lt;br&gt;
            &lt;input type=&quot;submit&quot; value=&quot; 保存 &quot;&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="jsp">&lt;%--
  Created by IntelliJ IDEA.
  User: zhangkx
  Date: 2020/4/20
  Time: 下午6:09
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1&gt;success!!!!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="xml">    &lt;!DOCTYPE web-app PUBLIC
        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;
        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;

    &lt;web-app&gt;
        &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;
        &lt;servlet&gt;
            &lt;servlet-name&gt;SpringMVCDispatcherServlet&lt;/servlet-name&gt;
            &lt;servlet-class&gt;
                org.springframework.web.servlet.DispatcherServlet
            &lt;/servlet-class&gt;
            &lt;!-- 配置初始化参数,用于读取 SpringMVC 的配置文件 --&gt;
            &lt;init-param&gt;
                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
                &lt;param-value&gt;classpath:springMVC.xml&lt;/param-value&gt;
            &lt;/init-param&gt;
            &lt;!-- 配置 servlet 的对象的创建时间点:应用加载时创建。
    取值只能是非 0 正整数,表示启动顺序 --&gt;
            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
        &lt;/servlet&gt;
        &lt;servlet-mapping&gt;
            &lt;servlet-name&gt;SpringMVCDispatcherServlet&lt;/servlet-name&gt;
            &lt;url-pattern&gt;/&lt;/url-pattern&gt;
        &lt;/servlet-mapping&gt;


        &lt;!-- 配置SpringMVC设置编码方式的过滤器 --&gt;
        &lt;filter&gt;
            &lt;filter-name&gt;encoding&lt;/filter-name&gt;
            &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;
            &lt;init-param&gt;
                &lt;param-name&gt;encoding&lt;/param-name&gt;
                &lt;param-value&gt;utf-8&lt;/param-value&gt;
            &lt;/init-param&gt;
            &lt;init-param&gt;
                &lt;param-name&gt;forceRequestEncoding&lt;/param-name&gt;
                &lt;param-value&gt;true&lt;/param-value&gt;
            &lt;/init-param&gt;
        &lt;/filter&gt;

        &lt;filter-mapping&gt;
            &lt;filter-name&gt;encoding&lt;/filter-name&gt;
            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
        &lt;/filter-mapping&gt;

    &lt;/web-app&gt;
</code></pre>
<h2 id="domain"><a href="#domain" class="headerlink" title="domain"></a>domain</h2><pre><code class="java">package uestc.zhangkx.domain;

import java.util.Date;

/**
 * @author zhangkx
 */
public class Account &#123;
    private String name;
    private String age;
    private Date birthday;
    private Pocket pocket;

    public String getName() &#123;
        return name;
    &#125;

    public void setName(String name) &#123;
        this.name = name;
    &#125;

    public String getAge() &#123;
        return age;
    &#125;

    public void setAge(String age) &#123;
        this.age = age;
    &#125;

    public Date getBirthday() &#123;
        return birthday;
    &#125;

    public void setBirthday(Date birthday) &#123;
        this.birthday = birthday;
    &#125;

    public Pocket getPocket() &#123;
        return pocket;
    &#125;

    public void setPocket(Pocket pocket) &#123;
        this.pocket = pocket;
    &#125;

    @Override
    public String toString() &#123;
        return &quot;Account&#123;&quot; +
                &quot;name=&#39;&quot; + name + &#39;\&#39;&#39; +
                &quot;, age=&#39;&quot; + age + &#39;\&#39;&#39; +
                &quot;, birthday=&quot; + birthday +
                &quot;, pocket=&quot; + pocket +
                &#39;&#125;&#39;;
    &#125;
&#125;
</code></pre>
<pre><code class="java">package uestc.zhangkx.domain;

import java.util.List;
import java.util.Map;

/**
 * @author zhangkx
 */
public class Pocket &#123;
    private int id;
    private double money;
    private List&lt;String&gt; list;
    private Map&lt;String,Integer&gt; map;

    public int getId() &#123;
        return id;
    &#125;

    public void setId(int id) &#123;
        this.id = id;
    &#125;

    public double getMoney() &#123;
        return money;
    &#125;

    public void setMoney(double money) &#123;
        this.money = money;
    &#125;

    public List&lt;String&gt; getList() &#123;
        return list;
    &#125;

    public void setList(List&lt;String&gt; list) &#123;
        this.list = list;
    &#125;

    public Map&lt;String, Integer&gt; getMap() &#123;
        return map;
    &#125;

    public void setMap(Map&lt;String, Integer&gt; map) &#123;
        this.map = map;
    &#125;

    @Override
    public String toString() &#123;
        return &quot;Pocket&#123;&quot; +
                &quot;id=&quot; + id +
                &quot;, money=&quot; + money +
                &quot;, list=&quot; + list +
                &quot;, map=&quot; + map +
                &#39;&#125;&#39;;
    &#125;
&#125;
</code></pre>
<h2 id="controller"><a href="#controller" class="headerlink" title="controller"></a>controller</h2><pre><code class="java">package uestc.zhangkx.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import uestc.zhangkx.domain.Account;

/** Ac类
 * @author zhangkx
 */

@Controller
@RequestMapping(value = &quot;/account&quot;,method = &#123;RequestMethod.GET,RequestMethod.POST&#125;)
public class AccountController &#123;

    @RequestMapping(value = &quot;/get&quot;)
    public String getAccountInfo(Account account)&#123;
        System.out.println(&quot;controller中得到的Account是:&quot;+account);
        return &quot;success&quot;;
    &#125;
&#125;
</code></pre>
<h2 id="utils"><a href="#utils" class="headerlink" title="utils"></a>utils</h2><pre><code class="java">package uestc.zhangkx.utils;

import org.springframework.core.convert.converter.Converter;

import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.Date;

/**
 * @author zhangkx
 */
public class StringToDateConverter implements Converter&lt;String, Date&gt; &#123;

    @Override
    public Date convert(String s) &#123;
        if (null == s)&#123;
            throw new RuntimeException(&quot;数据没有！&quot;);
        &#125;
        DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);

        try&#123;
            return  df.parse(s);
        &#125;catch (Exception e)&#123;
            throw new RuntimeException(&quot;数据类型转换错误&quot;);
        &#125;
    &#125;
&#125;
</code></pre>
<h2 id="resource"><a href="#resource" class="headerlink" title="resource"></a>resource</h2><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans
                           http://www.springframework.org/schema/beans/spring-beans.xsd
                           http://www.springframework.org/schema/mvc
                           http://www.springframework.org/schema/mvc/spring-mvc.xsd
                           http://www.springframework.org/schema/context
                           http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;
    &lt;!-- 配置创建 spring 容器要扫描的包 --&gt;
    &lt;context:component-scan base-package=&quot;uestc.zhangkx&quot;/&gt;
    &lt;!-- 配置视图解析器 --&gt;
    &lt;bean id=&quot;internalResourceViewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;
        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/pages/&quot;/&gt;
        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;/&gt;
    &lt;/bean&gt;
    &lt;!-- 注册自定义类型转换器 --&gt;
    &lt;bean id=&quot;conversionService&quot;
          class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;
        &lt;property name=&quot;converters&quot;&gt;
            &lt;set&gt;
                &lt;bean class=&quot;uestc.zhangkx.utils.StringToDateConverter&quot;/&gt;
            &lt;/set&gt;
        &lt;/property&gt;
    &lt;/bean&gt;
    &lt;!-- 开启Spring对MVC注解的支持 --&gt;
    &lt;mvc:annotation-driven conversion-service=&quot;conversionService&quot;/&gt;
&lt;/beans&gt;
</code></pre>
<h2 id="pom"><a href="#pom" class="headerlink" title="pom"></a>pom</h2><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;uestc.zhangkx&lt;/groupId&gt;
  &lt;artifactId&gt;QS&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;war&lt;/packaging&gt;

  &lt;name&gt;QS Maven Webapp&lt;/name&gt;
  &lt;!-- FIXME change it to the project&#39;s website --&gt;
  &lt;url&gt;http://www.example.com&lt;/url&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;
  &lt;/properties&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.11&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;
      &lt;version&gt;5.2.5.RELEASE&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;commons-logging&lt;/groupId&gt;
      &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;
      &lt;version&gt;1.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;

  &lt;build&gt;
    &lt;finalName&gt;QS&lt;/finalName&gt;
    &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.1.0&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.0.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.8.0&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.22.1&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
          &lt;version&gt;3.2.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.5.2&lt;/version&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;
          &lt;version&gt;2.8.2&lt;/version&gt;
        &lt;/plugin&gt;
      &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
  &lt;/build&gt;
&lt;/project&gt;
</code></pre>
<pre><code class="iml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;module type=&quot;JAVA_MODULE&quot; version=&quot;4&quot;&gt;
  &lt;component name=&quot;CheckStyle-IDEA-Module&quot;&gt;
    &lt;option name=&quot;configuration&quot;&gt;
      &lt;map /&gt;
    &lt;/option&gt;
  &lt;/component&gt;
&lt;/module&gt;
</code></pre>
<h1 id="常见注解"><a href="#常见注解" class="headerlink" title="常见注解"></a>常见注解</h1><h2 id="RequestParam"><a href="#RequestParam" class="headerlink" title="RequestParam"></a>RequestParam</h2><p><strong>使用说明</strong></p>
<p><strong>作用:</strong></p>
<p>把请求中指定名称的参数给控制器中的形参赋值。</p>
<p><strong>属性:</strong></p>
<ul>
<li>value:请求参数中的名称。</li>
<li>required:请求参数中是否必须提供此参数。默认值:true。表示必须提供,如果不提供将报错。</li>
</ul>
<h2 id="RequestBody"><a href="#RequestBody" class="headerlink" title="RequestBody"></a>RequestBody</h2><p><strong>使用说明</strong></p>
<p><strong>作用:</strong></p>
<p>用于获取请求体内容。直接使用得到是 key=value&amp;key=value…结构的数据。<br>get 请求方式不适用。</p>
<p><strong>属性:</strong></p>
<ul>
<li>required:是否必须有请求体。默认值是:true。当取值为 true 时,get 请求方式会报错。如果取值为 false,get 请求得到是 null。</li>
</ul>
<h2 id="PathVaribale"><a href="#PathVaribale" class="headerlink" title="PathVaribale"></a>PathVaribale</h2><p><strong>使用说明</strong></p>
<p><strong>作用:</strong></p>
<p>用于绑定 url 中的占位符。例如:请求 url 中 /delete/{id},这个{id}就是 url 占位符。<br>url 支持占位符是 spring3.0 之后加入的。是 springmvc 支持 rest 风格 URL 的一个重要标志。</p>
<p><strong>属性:</strong></p>
<ul>
<li>value:用于指定 url 中占位符名称。</li>
<li>required:是否必须提供占位符。</li>
</ul>
<h3 id="HiddentHttpMethodFilter"><a href="#HiddentHttpMethodFilter" class="headerlink" title="HiddentHttpMethodFilter"></a>HiddentHttpMethodFilter</h3><p><strong>作用:</strong></p>
<p>由于浏览器 form 表单只支持 GET 与 POST 请求,而 DELETE、PUT 等 method 并不支持,Spring3.0 添加了一个过滤器,可以将浏览器请求改为指定的请求方式,发送给我们的控制器方法,使得支持 GET、POST、PUT<br>与 DELETE 请求。</p>
<p><strong>使用方法:</strong></p>
<p>第一步:在 web.xml 中配置该过滤器。<br>第二步:请求方式必须使用 post 请求。<br>第三步:按照要求提供_method 请求参数,该参数的取值就是我们需要的请求方式。</p>
<h2 id="RequestHeader"><a href="#RequestHeader" class="headerlink" title="RequestHeader"></a>RequestHeader</h2><p> <strong>使用说明</strong></p>
<p><strong>作用:</strong></p>
<p>用于获取请求消息头。</p>
<p><strong>属性:</strong></p>
<ul>
<li>value:提供消息头名称</li>
<li>required:是否必须有此消息头</li>
</ul>
<h2 id="CookieValue"><a href="#CookieValue" class="headerlink" title="CookieValue"></a>CookieValue</h2><p><strong>作用:</strong></p>
<p>用于把指定 cookie 名称的值传入控制器方法参数。</p>
<p><strong>属性:</strong></p>
<ul>
<li>value:指定 cookie 的名称。</li>
<li>required:是否必须有此 cookie。</li>
</ul>
<h2 id="ModelAttribute"><a href="#ModelAttribute" class="headerlink" title="ModelAttribute"></a>ModelAttribute</h2><p><strong>作用:</strong></p>
<p>该注解是 SpringMVC4.3 版本以后新加入的。它可以用于修饰方法和参数。</p>
<ul>
<li>出现在方法上,表示当前方法会在控制器的方法执行之前,先执行。它可以修饰没有返回值的方法,也可以修饰有具体返回值的方法。</li>
<li>出现在参数上,获取指定的数据给参数赋值。</li>
</ul>
<p><strong>属性:</strong></p>
<p>value:用于获取数据的 key。key 可以是 POJO 的属性名称,也可以是 map 结构的 key。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
              <a href="/tags/springMVC/" rel="tag"># springMVC</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/04/16/debug%E6%97%A5%E8%AE%B0-1/" rel="prev" title="debug日记#1">
      <i class="fa fa-chevron-left"></i> debug日记#1
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/04/18/headFirstJava%E7%AC%94%E8%AE%B0/" rel="next" title="headFirstJava笔记">
      headFirstJava笔记 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%A5%E9%97%A8%E5%88%86%E6%9E%90"><span class="nav-text">入门分析</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%9B%B8%E5%85%B3%E7%BB%84%E4%BB%B6"><span class="nav-text">相关组件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#DispatcherServlet-%E5%89%8D%E7%AB%AF%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-text">DispatcherServlet:前端控制器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HandlerMapping-%E5%A4%84%E7%90%86%E5%99%A8%E6%98%A0%E5%B0%84%E5%99%A8"><span class="nav-text">HandlerMapping:处理器映射器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Handler-%E5%A4%84%E7%90%86%E5%99%A8"><span class="nav-text">Handler:处理器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#HandlAdapter-%E5%A4%84%E7%90%86%E5%99%A8%E9%80%82%E9%85%8D%E5%99%A8"><span class="nav-text">HandlAdapter:处理器适配器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#View-Resolver-%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="nav-text">View Resolver:视图解析器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#View-%E8%A7%86%E5%9B%BE"><span class="nav-text">View:视图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mvc-annotation-driven"><span class="nav-text">mvc:annotation-driven</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#RequestMapping-%E6%B3%A8%E8%A7%A3"><span class="nav-text">RequestMapping 注解</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E"><span class="nav-text">使用说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-text">示例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BA%E7%8E%B0%E4%BD%8D%E7%BD%AE%E7%A4%BA%E4%BE%8B%EF%BC%9A"><span class="nav-text">出现位置示例：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#method%E5%B1%9E%E6%80%A7%E7%A4%BA%E4%BE%8B"><span class="nav-text">method属性示例:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#params-%E5%B1%9E%E6%80%A7%E7%A4%BA%E4%BE%8B"><span class="nav-text">params 属性示例:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E7%9A%84%E7%BB%91%E5%AE%9A"><span class="nav-text">请求参数的绑定</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%91%E5%AE%9A%E8%AF%B4%E6%98%8E"><span class="nav-text">绑定说明</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%91%E5%AE%9A%E7%9A%84%E6%9C%BA%E5%88%B6"><span class="nav-text">绑定的机制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%94%AF%E6%8C%81%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-text">支持的数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E8%A6%81%E6%B1%82"><span class="nav-text">使用要求</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="nav-text">使用示例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%92%8C-String-%E7%B1%BB%E5%9E%8B%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="nav-text">基本类型和 String 类型作为参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#POJO-%E7%B1%BB%E5%9E%8B%E4%BD%9C%E4%B8%BA%E5%8F%82%E6%95%B0"><span class="nav-text">POJO 类型作为参数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#POJO-%E7%B1%BB%E4%B8%AD%E5%8C%85%E5%90%AB%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0"><span class="nav-text">POJO 类中包含集合类型参数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="nav-text">请求参数乱码问题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#POST"><span class="nav-text">POST</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#GET"><span class="nav-text">GET</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%89%B9%E6%AE%8A%E6%83%85%E5%86%B5"><span class="nav-text">特殊情况</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%99%A8"><span class="nav-text">自定义类型转换器</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="nav-text">综合案例</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#web"><span class="nav-text">web</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#domain"><span class="nav-text">domain</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#controller"><span class="nav-text">controller</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#utils"><span class="nav-text">utils</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#resource"><span class="nav-text">resource</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#pom"><span class="nav-text">pom</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E6%B3%A8%E8%A7%A3"><span class="nav-text">常见注解</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#RequestParam"><span class="nav-text">RequestParam</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RequestBody"><span class="nav-text">RequestBody</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PathVaribale"><span class="nav-text">PathVaribale</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#HiddentHttpMethodFilter"><span class="nav-text">HiddentHttpMethodFilter</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RequestHeader"><span class="nav-text">RequestHeader</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CookieValue"><span class="nav-text">CookieValue</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ModelAttribute"><span class="nav-text">ModelAttribute</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="摘星"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">摘星</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">241</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">24</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">139</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/zhangkexuan" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;zhangkexuan" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i></a>
      </span>
      <span class="links-of-author-item">
        <a href="/kexuan_zhang@qq.com" title="E-Mail → kexuan_zhang@qq.com"><i class="fa fa-envelope fa-fw"></i></a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2019 – 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">摘星</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

</body>
</html>

<!-- ҳ����С���� -->
<script type="text/javascript" src="/js/clicklove.js"></script>
